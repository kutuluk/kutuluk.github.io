{"version":3,"sources":["webpack:///route-home.chunk.3fcab.js","webpack:///../node_modules/js13k-2d/dist/renderer.m.js","webpack:///./routes/home/style.css","webpack:///./routes/home/index.js"],"names":["webpackJsonp","GBUi","module","exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","t","n","e","this","l","c","p","r","h","add","z","o","remove","layer","alpha","frame","atest","antialias","scale","a","s","getContext","getExtension","u","createShader","shaderSource","compileShader","createProgram","attachShader","linkProgram","f","createBuffer","bindBuffer","bufferData","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","vertexAttribDivisorANGLE","Uint8Array","Float32Array","v","ArrayBuffer","y","Uint32Array","x","g","d","b","m","w","getUniformLocation","P","A","j","E","clientHeight","width","clientWidth","height","F","blendFunc","depthFunc","bindTexture","tex","uniform1i","uniform1f","bufferSubData","subarray","drawElementsInstancedANGLE","S","visible","uvs","anchor","size","rotation","position","tint","D","O","L","gl","camera","at","Point","to","angle","background","clearColor","find","push","sort","resize","render","Math","cos","sin","useProgram","enable","uniformMatrix4fv","viewport","clear","forEach","set","copy","configurable","get","defineProperties","Frame","Texture","10240","10241","10242","10243","createTexture","keys","texParameteri","texImage2D","Sprite","default","ZAL5","home","iOg+","__webpack_require__","_interopRequireDefault","obj","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","TypeError","create","constructor","value","enumerable","writable","setPrototypeOf","__proto__","undefined","_preact","_js13k2d","_js13k2d2","_style","_style2","Renderer","atlasImg","canvas","document","createElement","ctx","offset","lineWidth","fillStyle","strokeStyle","beginPath","moveTo","PI","lineTo","closePath","fill","stroke","_ref","id","_Component","Home","_temp","_this","_ret","_len","args","Array","_key","apply","concat","onmousedown","event","preventDefault","ontouchstart","onmouseup","ontouchend","componentDidMount","_Texture","_this2","view","getElementById","window","devicePixelRatio","scene","maskSize","min","atlas","TEXTURE_MAG_FILTER","LINEAR","TEXTURE_MIN_FILTER","bFrame","qFrame","fFrame","frames","mask","_ctx$getImageData","getImageData","data","sprs","len","cl","addSprite","sprite","random","dr","trans","round","props","start","delta","abs","title","Number","toFixed","class","style","onMouseDown","onTouchStart","onMouseUp","onTouchEnd","Component"],"mappings":"AAAAA,cAAc,IAERC,KACA,SAAUC,EAAQC,GAExB,YAGAA,GAAQC,YAAa,CAErB,IAAIC,GAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,GAAIC,GAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,GAAIG,GAASF,UAAUD,EAAI,KAAK,GAAII,KAAOD,GAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,MAAOL,ICVnPS,EAAE,SAASA,EAAEC,EAAEC,GAAGC,KAAKC,EAAEJ,EAAEG,KAAKE,EAAEJ,EAAEE,KAAKF,EAAEC,EAAEC,KAAKG,EAAE,KAAMN,GAAEH,UAAUU,EAAE,WAAWJ,KAAKG,EAAEH,KAAKG,EAAEL,EAAEE,KAAKF,EAAEE,KAAKC,EAAEI,EAAEL,KAAKF,EAAEE,KAAKF,IAAIE,KAAKF,EAAEK,EAAEH,KAAKG,GAAI,IAAIL,GAAE,WAAWE,KAAKK,EAAE,KAAMP,GAAEJ,UAAUY,IAAI,SAASR,GAAG,GAAIC,GAAE,GAAIF,GAAEG,KAAKF,EAAEE,KAAKK,EAAG,OAAOL,MAAKK,IAAIL,KAAKK,EAAEF,EAAEJ,GAAGC,KAAKK,EAAEN,EAAEA,GAAGD,EAAEJ,UAAUL,EAAE,SAASQ,GAAG,IAAI,GAAIC,GAAEE,KAAKK,EAAEP,GAAGD,EAAEC,EAAEI,GAAGJ,EAAEA,EAAEA,EAAG,IAAIC,GAAE,SAASF,GAAGG,KAAKO,EAAEV,EAAEG,KAAKQ,EAAE,GAAIV,GAAEE,KAAKH,EAAE,GAAIC,GAAGC,GAAEL,UAAUY,IAAI,SAAST,GAAGA,EAAEY,SAASZ,EAAEa,MAAMV,KAAKH,EAAEC,GAAG,SAASD,GAAG,MAAO,KAAIA,EAAEc,OAAO,IAAId,EAAEe,MAAMC,OAAOhB,GAAGG,KAAKH,EAAEG,KAAKQ,GAAGF,IAAIT,GAAI,IAAIR,GAAE,QAAFA,GAAWQ,EAAEC,GAAG,GAAIM,GAAEnB,GAAe6B,WAAU,EAAGH,OAAM,EAAGI,MAAM,GAAGjB,GAAGkB,EAAEZ,EAAEO,MAAM,EAAE,IAAIH,EAAEJ,EAAEW,MAAME,EAAEpB,EAAEqB,WAAW,QAAQd,GAAGF,EAAEe,EAAEE,aAAa,0BAA0BC,EAAE,SAASvB,EAAEC,GAAG,GAAIC,GAAEkB,EAAEI,aAAavB,EAAG,OAAOmB,GAAEK,aAAavB,EAAEF,GAAGoB,EAAEM,cAAcxB,GAAGA,GAAGM,EAAEY,EAAEO,eAAgBP,GAAEQ,aAAapB,EAAEe,EAAE,kXAAkX,QAAQH,EAAEQ,aAAapB,EAAEe,EAAE,qNAAqN,QAAQH,EAAES,YAAYrB,EAAG,IAAIsB,GAAE,SAAS9B,EAAEC,EAAEC,GAAG,GAAIV,GAAE4B,EAAEW,cAAeX,GAAEY,WAAWhC,EAAER,GAAG4B,EAAEa,WAAWjC,EAAEC,EAAEC,GAAG,QAAQE,EAAE,SAASJ,EAAEC,EAAEC,EAAEV,EAAEe,EAAEY,EAAER,GAAG,GAAIY,GAAEH,EAAEc,kBAAkB1B,EAAER,EAAGoB,GAAEe,wBAAwBZ,GAAGH,EAAEgB,oBAAoBb,EAAEtB,EAAEkB,GAAG,OAAOR,EAAET,GAAG,EAAEK,GAAG,GAAGf,GAAGa,EAAEgC,yBAAyBd,EAAE/B,GAAIsC,GAAE,MAAM,GAAIQ,aAAY,EAAE,EAAE,EAAE,EAAE,EAAE,KAAKR,EAAE,MAAM,GAAIS,eAAc,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,KAAKnC,EAAE,IAAI,EAAG,IAAIoC,GAAE,GAAIC,aAAY,SAASnC,EAAE,GAAIiC,cAAaC,GAAGE,EAAE,GAAIC,aAAYH,EAAGV,GAAE,MAAMU,EAAE,OAAOpC,EAAE,IAAI,EAAE,GAAG,GAAGA,EAAE,IAAI,EAAE,GAAG,EAAE,GAAGA,EAAE,IAAI,EAAE,GAAG,EAAE,IAAIA,EAAE,IAAI,EAAE,GAAG,EAAE,IAAIA,EAAE,IAAI,EAAE,GAAG,EAAE,IAAIA,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,MAAK,GAAIA,EAAE,IAAI,EAAE,GAAG,EAAE,GAAI,IAAIwC,GAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAE,SAASjD,GAAG,MAAOoB,GAAE8B,mBAAmB1C,EAAER,IAAImD,EAAEF,EAAE,KAAKvC,EAAEuC,EAAE,KAAKG,EAAEH,EAAE,KAAKI,EAAE,EAAEC,EAAE,WAAW,MAAOR,GAAE9C,EAAEuD,aAAa5C,EAAE,GAAGX,EAAEwD,SAASX,EAAE7C,EAAEyD,YAAY9C,EAAE,IAAIX,EAAE0D,SAASZ,KAAK9C,EAAEwD,MAAMX,EAAE7C,EAAE0D,OAAOZ,GAAE,IAAKa,EAAE,WAAWN,IAAIjC,EAAEwC,UAAUZ,EAAE,EAAE7B,EAAE6B,EAAE,EAAE,KAAK5B,EAAEyC,UAAUb,EAAE,IAAI,KAAK5B,EAAE0C,YAAY,KAAKf,EAAEgB,KAAK3C,EAAE4C,UAAUtD,EAAEqC,EAAEgB,KAAK3C,EAAE6C,UAAUb,EAAEJ,EAAED,EAAE/B,MAAM,GAAGI,EAAE8C,cAAc,MAAM,EAAE5D,EAAE6D,SAAS,EAAE,GAAGd,IAAIhD,EAAE+D,2BAA2B,EAAE,EAAE,KAAK,EAAEf,GAAGA,EAAE,IAAIgB,EAAE,SAASrE,GAAG,GAAGA,EAAEsE,QAAQ,CAAC,QAAQjB,GAAGM,GAAI,IAAI1D,GAAED,EAAEe,MAAMb,EAAED,EAAEsE,IAAI/E,EAAEQ,EAAEwE,QAAQvE,EAAEuE,MAAOzB,GAAEgB,MAAM9D,EAAE8D,MAAMhB,EAAEgB,KAAKJ,IAAIZ,EAAE9C,EAAG,IAAIM,GAAE,GAAG8C,CAAE/C,GAAEC,KAAKf,EAAEoD,EAAEtC,EAAEC,KAAKf,EAAEkD,EAAEpC,EAAEC,KAAKP,EAAEkB,MAAM0B,EAAE3C,EAAEwE,KAAK7B,EAAEtC,EAAEC,KAAKP,EAAEkB,MAAMwB,EAAEzC,EAAEwE,KAAK/B,EAAEpC,EAAEC,KAAKP,EAAE0E,SAASpE,EAAEC,KAAKP,EAAE2E,SAAS/B,EAAEtC,EAAEC,KAAKP,EAAE2E,SAASjC,EAAEpC,EAAEC,KAAKL,EAAE,GAAGI,EAAEC,KAAKL,EAAE,GAAGI,EAAEC,KAAKL,EAAE,GAAGI,EAAEC,KAAKL,EAAE,GAAGwC,EAAEnC,OAAO,SAASP,EAAE4E,OAAO,EAAE,IAAI5E,EAAEc,MAAM,OAAO,EAAER,EAAEC,KAAKP,EAAEa,MAAMH,EAAE2C,MAAMwB,EAAE,GAAI3E,GAAE,GAAG4E,GAAGD,GAAGE,GAAGC,GAAG5D,EAAE6D,QAAQC,GAAG1F,EAAE2F,QAAQC,GAAG5F,EAAE2F,QAAQE,MAAM,GAAGC,WAAW,SAAStF,EAAEC,EAAEC,EAAEV,OAAG,KAASA,IAAIA,EAAE,GAAG4B,EAAEmE,WAAWvF,EAAEC,EAAEC,EAAEV,IAAIqB,MAAM,SAASb,GAAG,GAAIC,GAAE6E,EAAEU,KAAK,SAASvF,GAAG,MAAOA,GAAES,IAAIV,GAAI,OAAOC,KAAIA,EAAE,GAAIC,GAAEF,GAAG8E,EAAEW,KAAKxF,GAAG6E,EAAEY,KAAK,SAAS1F,EAAEC,GAAG,MAAOA,GAAES,EAAEV,EAAEU,KAAKT,GAAGQ,IAAI,SAAST,GAAG6E,EAAEpE,IAAIT,IAAI2F,OAAOrC,EAAEsC,OAAO,WAAWtC,GAAI,IAAItD,GAAE+E,EAAEE,OAAOhF,EAAED,EAAEkF,GAAGhF,EAAEF,EAAEoF,GAAG5F,EAAEQ,EAAEqF,MAAM9E,EAAEN,EAAE2C,EAAEC,EAAE3C,EAAE0C,EAAEzB,EAAElB,EAAEyC,EAAEI,EAAE5C,EAAEwC,EAAE/B,EAAEkF,KAAKC,IAAItG,GAAGa,EAAEwF,KAAKE,IAAIvG,GAAG+B,EAAE,EAAEsB,EAAEf,GAAG,EAAEgB,CAAEF,IAAGjC,EAAEY,EAAElB,EAAEyB,EAAE,EAAE,GAAGzB,EAAEkB,EAAEZ,EAAEmB,EAAE,EAAE,EAAE,EAAE,GAAG,KAAK,GAAG7B,EAAE2C,GAAG,EAAEjC,GAAGV,EAAEyC,EAAErC,GAAGkB,EAAE,EAAEhB,EAAEsC,EAAE,GAAG5C,EAAEyC,GAAG,EAAE/B,GAAGV,EAAE2C,EAAEvC,GAAGyB,EAAE,EAAEX,EAAE2B,EAAE,EAAE,EAAE,GAAG1B,EAAE4E,WAAWxF,GAAGY,EAAE6E,OAAO,MAAM7E,EAAE6E,OAAO,MAAM7E,EAAE8E,iBAAiB/C,GAAE,EAAGP,GAAGxB,EAAE+E,SAAS,EAAE,EAAEtD,EAAEC,GAAG1B,EAAEgF,MAAM,OAAOrD,GAAGgB,IAAI,MAAMf,GAAE,EAAG8B,EAAEuB,QAAQ,SAASrG,GAAG,MAAOA,GAAEW,EAAEnB,EAAE,SAASQ,GAAG,MAAOqE,GAAErE,OAAO2D,IAAIX,GAAE,CAAG,KAAI,GAAI5C,GAAE0E,EAAEpF,OAAO,EAAEU,GAAG,EAAEA,IAAI0E,EAAE1E,GAAGJ,EAAER,EAAE,SAASQ,GAAG,MAAOqE,GAAErE,IAAK2D,MAAM,OAAOL,KAAIyB,EAAGvF,GAAE2F,MAAM,WAAW,QAASnF,GAAEA,EAAEC,GAAG,KAAKE,eAAgBX,GAAE2F,OAAO,MAAO,IAAI3F,GAAE2F,MAAMnF,EAAEC,EAAGE,MAAKmG,IAAItG,EAAEC,GAAG,MAAOD,GAAEH,UAAUyG,IAAI,SAAStG,EAAEC,GAAG,MAAOE,MAAKyC,EAAE5C,GAAG,EAAEG,KAAKuC,EAAEzC,IAAI,IAAIA,EAAEE,KAAKyC,EAAE,GAAGzC,MAAMH,EAAEH,UAAU0G,KAAK,SAASvG,GAAG,MAAOG,MAAKyC,EAAE5C,EAAE4C,EAAEzC,KAAKuC,EAAE1C,EAAE0C,EAAEvC,MAAMH,IAAK,IAAIO,GAAE,QAASP,GAAEC,EAAEC,EAAEK,EAAEY,GAAG,KAAKhB,eAAgBH,IAAG,MAAO,IAAIA,GAAEC,EAAEC,EAAEK,EAAEY,EAAGhB,MAAKsE,KAAKjF,EAAE2F,QAAQoB,KAAKhG,GAAGJ,KAAKqE,OAAOhF,EAAE2F,QAAQoB,KAAKpF,GAAGlB,EAAEuE,QAAQrE,KAAKoE,KAAKrE,EAAE0C,EAAE3C,EAAEwE,KAAK7B,EAAE1C,EAAEwC,EAAEzC,EAAEwE,KAAK/B,EAAEnC,EAAEqC,EAAE3C,EAAEwE,KAAK7B,EAAErC,EAAEmC,EAAEzC,EAAEwE,KAAK/B,GAAGvC,KAAKH,EAAEC,GAAGkB,GAAGH,OAAOwF,cAAa,GAAIzC,KAAKyC,cAAa,GAAKrF,GAAEH,MAAMyF,IAAI,WAAW,MAAOtG,MAAKH,EAAEgB,OAAOG,EAAE4C,IAAI0C,IAAI,WAAW,MAAOtG,MAAKH,EAAE+D,KAAK1E,OAAOqH,iBAAiBnG,EAAEV,UAAUsB,GAAG3B,EAAEmH,MAAMpG,EAAEf,EAAEoH,QAAQ,QAAS5G,GAAEC,EAAEC,EAAEK,EAAEY,GAAG,KAAKhB,eAAgBH,IAAG,MAAO,IAAIA,GAAEC,EAAEC,EAAEK,EAAEY,EAAGhB,MAAKsE,KAAKjF,EAAE2F,MAAMjF,EAAEsD,MAAMtD,EAAEwD,QAAQvD,KAAKqE,OAAOhF,EAAE2F,QAAQhF,KAAKoE,KAAK,EAAE,EAAE,EAAE,GAAGpE,KAAKa,MAAMT,IAAI,IAAIA,EAAE,EAAE,EAAG,IAAII,GAAEvB,GAAeyH,MAAM,KAAKC,MAAM,KAAKC,MAAM,MAAMC,MAAM,OAAO7F,GAAGC,EAAEnB,EAAE+E,EAAG7E,MAAK4D,IAAI3C,EAAE6F,gBAAgB7F,EAAE0C,YAAY,KAAK3D,KAAK4D,KAAK1E,OAAO6H,KAAKvG,GAAG0F,QAAQ,SAASrG,GAAG,MAAOoB,GAAE+F,cAAc,KAAKnH,EAAEW,EAAEX,MAAMoB,EAAEgG,WAAW,KAAK,EAAE,KAAK,KAAK,KAAKlH,IAAIV,EAAE6H,OAAO,WAAW,QAASrH,GAAEC,EAAEC,GAAG,KAAKC,eAAgBH,IAAG,MAAO,IAAIA,GAAEC,EAAEC,EAAGd,GAAce,MAAMY,MAAMd,EAAEqE,SAAQ,EAAGK,SAASnF,EAAE2F,QAAQT,SAAS,EAAEF,OAAO,KAAKtD,MAAM1B,EAAE2F,MAAM,GAAGP,KAAK,SAASzD,EAAE,GAAGjB,GAAGC,KAAKS,SAAS,GAAIX,IAAGa,OAAO0F,cAAa,GAAK,OAAOvG,GAAEa,MAAM2F,IAAI,WAAW,MAAOtG,MAAKgB,GAAGlB,EAAEa,MAAMwF,IAAI,SAAStG,GAAG,GAAIC,GAAEE,KAAKgB,CAAEhB,MAAKgB,EAAEnB,EAAEG,KAAKF,IAAID,EAAE,GAAG,IAAIC,GAAG,IAAID,GAAGC,EAAE,IAAIE,KAAKU,MAAMJ,IAAIN,OAAOH,EAAEH,UAAUe,OAAO,WAAWT,KAAKF,GAAGE,KAAKF,EAAEM,IAAIJ,KAAKU,MAAM,KAAKV,KAAKF,EAAE,MAAMZ,OAAOqH,iBAAiB1G,EAAEH,UAAUI,GAAGD,KDqIzoKd,EAAQoI,QCrIqpK9H,GDyI3pK+H,KACA,SAAUtI,GEzIhBA,EAAAC,SAAkBsI,KAAA,gBFgJZC,OACA,SAAUxI,EAAQC,EAASwI,GAEjC,YAgBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIzI,WAAayI,GAAQN,QAASM,GAIvF,QAASC,GAA2BC,EAAM/H,GAAQ,IAAK+H,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOhI,GAAyB,gBAATA,IAAqC,kBAATA,GAA8B+H,EAAP/H,EAElO,QAASiI,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIC,WAAU,iEAAoED,GAAeD,GAASpI,UAAYR,OAAO+I,OAAOF,GAAcA,EAAWrI,WAAawI,aAAeC,MAAOL,EAAUM,YAAY,EAAOC,UAAU,EAAMhC,cAAc,KAAe0B,IAAY7I,OAAOoJ,eAAiBpJ,OAAOoJ,eAAeR,EAAUC,GAAcD,EAASS,UAAYR,GAnBjehJ,EAAQC,YAAa,EACrBD,EAAQoI,YAAUqB,EAElB,IAAIC,GAAUlB,EAAoB,QGxJlCmB,EAAAnB,EAAA,QH4JIoB,EAAYnB,EAAuBkB,GG3JvCE,EAAArB,EAAA,QH+JIsB,EAAUrB,EAAuBoB,GG7J7B5D,EAAkC8D,UAAlC9D,MAAOyB,EAA2BqC,UAA3BrC,QAASD,EAAkBsC,UAAlBtC,MAAOU,EAAW4B,UAAX5B,OAWzB6B,EAAW,WAChB,GAAMC,GAASC,SAASC,cAAc,SAGtCF,GAAO3F,MAAQ,GACf2F,EAAOzF,OAAS,EAChB,IAAM4F,GAAMH,EAAO9H,WAAW,MAE1BkI,EAAS,CAEbD,GAAIE,UAAY/E,EAChB6E,EAAIG,UAAY,UAChBH,EAAII,YAAc,UAClBJ,EAAIK,YAEJL,EAAIM,OAAOL,EAZE9E,MAab,KAAK,GAAIY,GAAQ,EAAGA,EAAkB,EAAVQ,KAAKgE,GAAQxE,GAAoB,EAAVQ,KAAKgE,GAAU,EACjEP,EAAIQ,OACHP,EAfW9E,MAeKoB,KAAKE,IAAIV,GAAgB,GAf9BZ,MAgBJoB,KAAKC,IAAIT,GAAgB,GAwClC,OApCAiE,GAAIS,YACJT,EAAIU,OACJV,EAAIW,SAEJV,GAzBa,GA2BbD,EAAIK,YAEJL,EAAIM,OAAOL,EAAS,EAAG,GACvBD,EAAIQ,OAAOP,EA9BE,GA8Bc,EAAG,GAC9BD,EAAIQ,OAAOP,EA/BE,GA+Bc,EAAG9E,IAC9B6E,EAAIQ,OAAOP,EAAS,EAAG9E,IAEvB6E,EAAIS,YACJT,EAAIU,OACJV,EAAIW,SAEJV,GAtCa,GAwCbD,EAAIK,YAEJL,EAAIM,OAAOL,EAAS,EAAG,GACvBD,EAAIQ,OAAOP,EAAS,GAAI,GACxBD,EAAIQ,OAAOP,EAAS,GAAI,GACxBD,EAAIQ,OAAOP,EAAS,EAAG,GACvBD,EAAIQ,OAAOP,EAAS,EAAG,IACvBD,EAAIQ,OAAOP,EAAS,GAAI,IACxBD,EAAIQ,OAAOP,EAAS,GAAI,IACxBD,EAAIQ,OAAOP,EAAS,EAAG,IACvBD,EAAIQ,OAAOP,EAAS,EAAG,IACvBD,EAAIQ,OAAOP,EAAS,EAAG,IAEvBD,EAAIS,YACJT,EAAIU,OACJV,EAAIW,SAEGd,GH2KJe,GGuDA,EAAAtB,EAAApI,GAAA,UAAQ2J,GAAG,QHuKfjL,GAAQoI,QA5NG,SAAU8C,GAGpB,QAASC,KAKR,IAAK,GAJDC,GAAOC,EAAOC,EAITC,EAAOhL,UAAUC,OAAQgL,EAAOC,MAAMF,GAAOG,EAAO,EAAGA,EAAOH,EAAMG,IAC5EF,EAAKE,GAAQnL,UAAUmL,EAGxB,OAAeN,GAASC,EAAQ1C,EAA2B1H,KAAMiK,EAAWrK,KAAK8K,MAAMT,GAAajK,MAAM2K,OAAOJ,KAAiBH,EGrLnIQ,YAAc,SAAAC,GACbT,EAAK9J,KAAM,EACXuK,EAAMC,kBHsLHV,EGnLJW,aAAe,SAAAF,GACdT,EAAK9J,KAAM,EACXuK,EAAMC,kBHoLHV,EGjLJY,UAAY,SAAAH,GACXT,EAAK9J,KAAM,EACXuK,EAAMC,kBHkLHV,EG/KJa,WAAa,SAAAJ,GACZT,EAAK9J,KAAM,EACXuK,EAAMC,kBHoKCT,EAYJF,EAAQzC,EAA2B0C,EAAOC,GAiM9C,MAxNAxC,GAAUqC,EAAMD,GA0BhBC,EAAKxK,UGhLLwL,kBHgLmC,WGhLf,GAAAC,GAAAC,EAAApL,KACbqL,EAAOpC,SAASqC,eAAe,OAErCtL,MAAKM,KAAM,CAsBX,IAAMS,GAAoC,IAA5BwK,OAAOC,iBAAyB,EAAI,EAC5CC,GAAQ,EAAA9C,EAAAxB,SAASkE,GAAQtK,UACvB8D,EAAO4G,EAAP5G,GAEF6G,EAAWhG,KAAKiG,IACrBF,EAAM5G,GAAGmE,OAAO3F,MAChBoI,EAAM5G,GAAGmE,OAAOzF,OAGjBkI,GAAMtG,WAAW,EAAG,EAAG,EAAG,GAC1BsG,EAAM3G,OAAOC,GAAGoB,IAAIuF,EAAW,EAAGA,EAAW,GAC7CD,EAAM3G,OAAOG,GAAGkB,IAAI,GAEpB,IAiEMyF,GAAQnF,EAAQgF,EAAO1C,IAAY,IAA3BoC,OACZtG,EAAGgH,oBAAqBhH,EAAGiH,OADfX,EAEZtG,EAAGkH,oBAAqBlH,EAAGiH,OAFfX,GAIdS,GAAMvH,OAASW,EAAM,GAErB,IAAMgH,GAASxF,EAAMoF,EAAO5G,IAASA,EAAM,KACrCiH,EAASzF,EAAMoF,EAAO5G,EAAM,GAAI,GAAIA,EAAM,KAC1CkH,EAAS1F,EAAMoF,EAAO5G,EAAM,GAAI,GAAIA,EAAM,KAC1CmH,GAAUP,EAAOI,EAAQC,EAAQC,GAEjCE,EA5EW,WAChB,GAAMpD,GAASC,SAASC,cAAc,SACtCF,GAAO3F,MAAQqI,EACf1C,EAAOzF,OAASmI,CAChB,IAAMvC,GAAMH,EAAO9H,WAAW,KAE9BiI,GAAIG,UAAY,UAChBH,EAAIK,YAEJL,EAAIM,OAAOiC,EAAW,EAAGA,EAAW,EACpC,KACC,GAAIxG,GAAQ,EACZA,EAAkB,EAAVQ,KAAKgE,GACbxE,GAAoB,EAAVQ,KAAKgE,GAAU,EAEzBP,EAAIQ,OACH+B,EAAW,EAAKhG,KAAKE,IAAIV,GAASwG,EAAY,IAC9CA,EAAW,EAAKhG,KAAKC,IAAIT,GAASwG,EAAY,IAIhDvC,GAAIS,YACJT,EAAIU,MAtBkB,IAAAwC,GAwBLlD,EAAImD,aAAa,EAAG,EAAGZ,EAAUA,GAA1Ca,EAxBcF,EAwBdE,IAER,OAAO,UAAC9J,EAAGF,GAAJ,MAAUgK,GAA0B,GAApBhK,EAAImJ,EAAWjJ,IAAU,MAmD3C+J,KAEFC,EAAM,EACNC,EAAK,EAEHC,EAAY,SAAA3L,GACbyL,EAAM,KAAQ,GACjBC,IAEDD,GAAOzL,CAIP,KAAK,GAFCN,GAAQ+K,EAAM/K,MAAMgM,GAEjBrN,EAAI,EAAGA,EAAI2B,EAAG3B,IAAK,CAM3B,IALA,GAAMuN,GAAS1F,EAAOiF,EAAO9M,EAAI8M,EAAO5M,SAEpCkD,EAAI,EACJF,EAAI,GAEA6J,EAAK3J,EAAGF,IACfE,KAAOiJ,EAAWhG,KAAKmH,UACvBtK,KAAOmJ,EAAWhG,KAAKmH,SAGxBD,GAAOpI,SAAS2B,IAAI1D,EAAGF,GACvBqK,EAAOnI,KAAuB,SAAhBiB,KAAKmH,SACnBD,EAAOrI,SAAWmB,KAAKmH,SAAWnH,KAAKgE,GAAK,EAC5CkD,EAAOE,GAA6B,IAAvB,GAAMpH,KAAKmH,UACxBD,EAAOG,OAASrH,KAAKsH,MAAMtH,KAAKmH,SAAW,IAC3CL,EAAKlH,KAAKsH,GACVlM,EAAMJ,IAAIsM,KAIR3L,EAAI,CAmCRjB,MAAKiN,MAAMC,MAlCE,SAAAC,IACRV,EAAM,KAAQrB,EAAK9K,MAAKqM,EAAU,IAEtC1L,GAAK,IACL,IAAMF,IAAU2E,KAAK0H,IAAI1H,KAAKC,IAAI1E,IAAM,IAAOyK,EAAY,IAmB3D,OAjBAc,GAAKtG,QAAQ,SAAA0G,GACZA,EAAO7L,MAAMoF,IAAIpF,GACjB6L,EAAOrI,UAAYqI,EAAOE,GACtBF,EAAOG,QACNH,EAAOjM,MAAQ,GAClBiM,EAAOjM,OAASwM,EAAQ,IAGxBP,EAAOG,OAAQ,KAKlBtB,EAAM3G,OAAOI,OAASiI,EAAQ,IAE9B1B,EAAMhG,WAIJ4H,MAAO,UACPlF,MACCsE,EAAM,IACHA,EACGa,QAAQb,EAAM,KAAMc,QAAQ,IAFlC,SH8KLrD,EAAKxK,UG/JL+F,OH+JwB,WG9JvB,OACC,EAAAgD,EAAApI,GAAA,OACCmN,MAAOC,UAAMpG,KACbqG,YAAa1N,KAAK4K,YAClB+C,aAAc3N,KAAK+K,aACnB6C,UAAW5N,KAAKgL,UAChB6C,WAAY7N,KAAKiL,YALlB,gCAAAlB,IH4KKG,GGnY0B4D","file":"route-home.chunk.3fcab.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ \"GBUi\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar t = function t(_t, n, e) {\n  this.l = _t, this.c = n, this.n = e, this.p = null;\n};t.prototype.r = function () {\n  this.p ? this.p.n = this.n : this.l.h = this.n, this.n && (this.n.p = this.p);\n};var n = function n() {\n  this.h = null;\n};n.prototype.add = function (n) {\n  var e = new t(this, n, this.h);return this.h && (this.h.p = e), this.h = e, e;\n}, n.prototype.i = function (t) {\n  for (var n = this.h; n;) {\n    t(n.c), n = n.n;\n  }\n};var e = function e(t) {\n  this.z = t, this.o = new n(), this.t = new n();\n};e.prototype.add = function (t) {\n  t.remove(), t.layer = this, t.n = (function (t) {\n    return 1 !== t.alpha || 0 === t.frame.atest;\n  }(t) ? this.t : this.o).add(t);\n};var i = function i(t, n) {\n  var r = _extends({ antialias: !1, alpha: !1, scale: 1 }, n),\n      a = r.alpha ? 1 : 770,\n      o = r.scale,\n      s = t.getContext(\"webgl\", r),\n      c = s.getExtension(\"ANGLE_instanced_arrays\"),\n      u = function u(t, n) {\n    var e = s.createShader(n);return s.shaderSource(e, t), s.compileShader(e), e;\n  },\n      h = s.createProgram();s.attachShader(h, u(\"attribute vec2 g;\\nattribute vec2 a;\\nattribute vec2 t;\\nattribute float r;\\nattribute vec2 s;\\nattribute vec4 u;\\nattribute vec4 c;\\nattribute float z;\\nuniform mat4 m;\\nvarying vec2 v;\\nvarying vec4 i;\\nvoid main(){\\nv=u.xy+g*u.zw;\\ni=c.abgr;\\nvec2 p=(g-a)*s;\\nfloat q=cos(r);\\nfloat w=sin(r);\\np=vec2(p.x*q-p.y*w,p.x*w+p.y*q);\\np+=a+t;\\ngl_Position=m*vec4(p,z,1);}\", 35633)), s.attachShader(h, u(\"precision mediump float;\\nuniform sampler2D x;\\nuniform float j;\\nvarying vec2 v;\\nvarying vec4 i;\\nvoid main(){\\nvec4 c=texture2D(x,v);\\ngl_FragColor=c*i;\\nif(j>0.0){\\nif(c.a<j)discard;\\ngl_FragColor.a=1.0;};}\", 35632)), s.linkProgram(h);var f = function f(t, n, e) {\n    var i = s.createBuffer();s.bindBuffer(t, i), s.bufferData(t, n, e || 35044);\n  },\n      l = function l(t, n, e, i, r, a, o) {\n    var u = s.getAttribLocation(h, t);s.enableVertexAttribArray(u), s.vertexAttribPointer(u, n, a || 5126, !!o, e || 0, r || 0), i && c.vertexAttribDivisorANGLE(u, i);\n  };f(34963, new Uint8Array([0, 1, 2, 2, 1, 3])), f(34962, new Float32Array([0, 0, 0, 1, 1, 0, 1, 1])), l(\"g\", 2);var v = new ArrayBuffer(3407820),\n      p = new Float32Array(v),\n      y = new Uint32Array(v);f(34962, v, 35048), l(\"a\", 2, 52, 1), l(\"s\", 2, 52, 1, 8), l(\"r\", 1, 52, 1, 16), l(\"t\", 2, 52, 1, 20), l(\"u\", 4, 52, 1, 28), l(\"c\", 4, 52, 1, 44, 5121, !0), l(\"z\", 1, 52, 1, 48);var x,\n      g,\n      d,\n      b,\n      m,\n      w = function w(t) {\n    return s.getUniformLocation(h, t);\n  },\n      P = w(\"m\"),\n      z = w(\"x\"),\n      A = w(\"j\"),\n      j = 0,\n      E = function E() {\n    return d = t.clientHeight * o | 0, (t.width !== (g = t.clientWidth * o | 0) || t.height !== d) && (t.width = g, t.height = d, !0);\n  },\n      F = function F() {\n    j && (s.blendFunc(m ? 1 : a, m ? 0 : 771), s.depthFunc(m ? 513 : 515), s.bindTexture(3553, b.tex), s.uniform1i(z, b.tex), s.uniform1f(A, m ? b.atest : 0), s.bufferSubData(34962, 0, p.subarray(0, 13 * j)), c.drawElementsInstancedANGLE(4, 6, 5121, 0, j), j = 0);\n  },\n      S = function S(t) {\n    if (t.visible) {\n      65535 === j && F();var n = t.frame,\n          e = n.uvs,\n          i = t.anchor || n.anchor;b.tex !== n.tex && (b.tex && F(), b = n);var r = 13 * j;p[r++] = i.x, p[r++] = i.y, p[r++] = t.scale.x * n.size.x, p[r++] = t.scale.y * n.size.y, p[r++] = t.rotation, p[r++] = t.position.x, p[r++] = t.position.y, p[r++] = e[0], p[r++] = e[1], p[r++] = e[2], p[r++] = e[3], y[r++] = ((16777215 & t.tint) << 8 | 255 * t.alpha & 255) >>> 0, p[r++] = t.layer.z, j++;\n    }\n  },\n      D = new e(0),\n      O = [D],\n      L = { gl: s, camera: { at: i.Point(), to: i.Point(), angle: 0 }, background: function background(t, n, e, i) {\n      void 0 === i && (i = 1), s.clearColor(t, n, e, i);\n    }, layer: function layer(t) {\n      var n = O.find(function (n) {\n        return n.z === t;\n      });return n || (n = new e(t), O.push(n), O.sort(function (t, n) {\n        return n.z - t.z;\n      })), n;\n    }, add: function add(t) {\n      D.add(t);\n    }, resize: E, render: function render() {\n      E();var t = L.camera,\n          n = t.at,\n          e = t.to,\n          i = t.angle,\n          r = n.x - g * e.x,\n          a = n.y - d * e.y,\n          o = Math.cos(i),\n          c = Math.sin(i),\n          u = 2 / g,\n          f = -2 / d;x = [o * u, c * f, 0, 0, -c * u, o * f, 0, 0, 0, 0, -1e-5, 0, (n.x * (1 - o) + n.y * c) * u - 2 * r / g - 1, (n.y * (1 - o) - n.x * c) * f + 2 * a / d + 1, 0, 1], s.useProgram(h), s.enable(3042), s.enable(2929), s.uniformMatrix4fv(P, !1, x), s.viewport(0, 0, g, d), s.clear(16640), b = { tex: null }, m = !0, O.forEach(function (t) {\n        return t.o.i(function (t) {\n          return S(t);\n        });\n      }), F(), m = !1;for (var l = O.length - 1; l >= 0; l--) {\n        O[l].t.i(function (t) {\n          return S(t);\n        });\n      }F();\n    } };return E(), L;\n};i.Point = function () {\n  function t(t, n) {\n    if (!(this instanceof i.Point)) return new i.Point(t, n);this.set(t, n);\n  }return t.prototype.set = function (t, n) {\n    return this.x = t || 0, this.y = n || (0 !== n ? this.x : 0), this;\n  }, t.prototype.copy = function (t) {\n    return this.x = t.x, this.y = t.y, this;\n  }, t;\n}();var r = function t(n, e, r, a) {\n  if (!(this instanceof t)) return new t(n, e, r, a);this.size = i.Point().copy(r), this.anchor = i.Point().copy(a || n.anchor), this.uvs = [e.x / n.size.x, e.y / n.size.y, r.x / n.size.x, r.y / n.size.y], this.t = n;\n},\n    a = { atest: { configurable: !0 }, tex: { configurable: !0 } };a.atest.get = function () {\n  return this.t.atest;\n}, a.tex.get = function () {\n  return this.t.tex;\n}, Object.defineProperties(r.prototype, a);i.Frame = r, i.Texture = function t(n, e, r, a) {\n  if (!(this instanceof t)) return new t(n, e, r, a);this.size = i.Point(e.width, e.height), this.anchor = i.Point(), this.uvs = [0, 0, 1, 1], this.atest = r || (0 === r ? 0 : 1);var o = _extends({ 10240: 9728, 10241: 9728, 10242: 33071, 10243: 33071 }, a),\n      s = n.gl;this.tex = s.createTexture(), s.bindTexture(3553, this.tex), Object.keys(o).forEach(function (t) {\n    return s.texParameteri(3553, t, o[t]);\n  }), s.texImage2D(3553, 0, 6408, 6408, 5121, e);\n}, i.Sprite = function () {\n  function t(n, e) {\n    if (!(this instanceof t)) return new t(n, e);_extends(this, { frame: n, visible: !0, position: i.Point(), rotation: 0, anchor: null, scale: i.Point(1), tint: 16777215, a: 1 }, e), this.remove();\n  }var n = { alpha: { configurable: !0 } };return n.alpha.get = function () {\n    return this.a;\n  }, n.alpha.set = function (t) {\n    var n = this.a;this.a = t, this.n && (t < 1 && 1 === n || 1 === t && n < 1) && this.layer.add(this);\n  }, t.prototype.remove = function () {\n    this.n && this.n.r(), this.layer = null, this.n = null;\n  }, Object.defineProperties(t.prototype, n), t;\n}();exports.default = i;\n\n/***/ }),\n\n/***/ \"ZAL5\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"home\":\"home__2Q5nZ\"};\n\n/***/ }),\n\n/***/ \"iOg+\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports.default = undefined;\n\nvar _preact = __webpack_require__(\"KM04\");\n\nvar _js13k2d = __webpack_require__(\"GBUi\");\n\nvar _js13k2d2 = _interopRequireDefault(_js13k2d);\n\nvar _style = __webpack_require__(\"ZAL5\");\n\nvar _style2 = _interopRequireDefault(_style);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* eslint-disable new-cap */\n\n\nvar Point = _js13k2d2.default.Point,\n    Texture = _js13k2d2.default.Texture,\n    Frame = _js13k2d2.default.Frame,\n    Sprite = _js13k2d2.default.Sprite;\n\n/*\nconst sprites = document.getElementById('info');\n\nconst dbgRenderInfo = gl.getExtension('WEBGL_debug_renderer_info');\nconst info = gl.getParameter(\n    dbgRenderInfo ? dbgRenderInfo.UNMASKED_RENDERER_WEBGL : gl.VENDOR\n);\n*/\n\nvar atlasImg = function atlasImg() {\n\tvar canvas = document.createElement('canvas');\n\tvar size = 32;\n\tvar half = size / 2;\n\tcanvas.width = 96;\n\tcanvas.height = 32;\n\tvar ctx = canvas.getContext('2d');\n\n\tvar offset = 0;\n\n\tctx.lineWidth = size / 16;\n\tctx.fillStyle = '#cccccc';\n\tctx.strokeStyle = '#000000';\n\tctx.beginPath();\n\n\tctx.moveTo(offset + half, half);\n\tfor (var angle = 0; angle < Math.PI * 2; angle += Math.PI * 2 / 5) {\n\t\tctx.lineTo(offset + half - Math.sin(angle) * half * 0.9, half - Math.cos(angle) * half * 0.9);\n\t}\n\n\tctx.closePath();\n\tctx.fill();\n\tctx.stroke();\n\n\toffset += size;\n\n\tctx.beginPath();\n\n\tctx.moveTo(offset + 3, 3);\n\tctx.lineTo(offset + size - 3, 3);\n\tctx.lineTo(offset + size - 3, size - 3);\n\tctx.lineTo(offset + 3, size - 3);\n\n\tctx.closePath();\n\tctx.fill();\n\tctx.stroke();\n\n\toffset += size;\n\n\tctx.beginPath();\n\n\tctx.moveTo(offset + 3, 3);\n\tctx.lineTo(offset + 29, 3);\n\tctx.lineTo(offset + 29, 8);\n\tctx.lineTo(offset + 8, 8);\n\tctx.lineTo(offset + 8, 14);\n\tctx.lineTo(offset + 20, 14);\n\tctx.lineTo(offset + 20, 18);\n\tctx.lineTo(offset + 8, 18);\n\tctx.lineTo(offset + 8, 29);\n\tctx.lineTo(offset + 3, 29);\n\n\tctx.closePath();\n\tctx.fill();\n\tctx.stroke();\n\n\treturn canvas;\n};\n\nvar _ref = (0, _preact.h)('canvas', { id: 'view' });\n\nvar Home = function (_Component) {\n\t_inherits(Home, _Component);\n\n\tfunction Home() {\n\t\tvar _temp, _this, _ret;\n\n\t\t_classCallCheck(this, Home);\n\n\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\targs[_key] = arguments[_key];\n\t\t}\n\n\t\treturn _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.onmousedown = function (event) {\n\t\t\t_this.add = true;\n\t\t\tevent.preventDefault();\n\t\t}, _this.ontouchstart = function (event) {\n\t\t\t_this.add = true;\n\t\t\tevent.preventDefault();\n\t\t}, _this.onmouseup = function (event) {\n\t\t\t_this.add = false;\n\t\t\tevent.preventDefault();\n\t\t}, _this.ontouchend = function (event) {\n\t\t\t_this.add = false;\n\t\t\tevent.preventDefault();\n\t\t}, _temp), _possibleConstructorReturn(_this, _ret);\n\t}\n\n\tHome.prototype.componentDidMount = function componentDidMount() {\n\t\tvar _Texture,\n\t\t    _this2 = this;\n\n\t\tvar view = document.getElementById('view');\n\n\t\tthis.add = false;\n\n\t\t/*\n        let add = false;\n        view.onmousedown = event => {\n            event.preventDefault();\n            add = true;\n        };\n        view.ontouchstart = event => {\n            add = true;\n            event.preventDefault();\n        };\n        view.onmouseup = event => {\n            add = false;\n            event.preventDefault();\n        };\n        view.ontouchend = event => {\n            add = false;\n            event.preventDefault();\n        };\n        */\n\n\t\tvar scale = window.devicePixelRatio === 1 ? 1 : 2;\n\t\tvar scene = (0, _js13k2d2.default)(view, { scale: scale });\n\t\tvar gl = scene.gl;\n\n\n\t\tvar maskSize = Math.min(scene.gl.canvas.width, scene.gl.canvas.height);\n\n\t\tscene.background(1, 1, 1, 0);\n\t\tscene.camera.at.set(maskSize / 2, maskSize / 2);\n\t\tscene.camera.to.set(0.5);\n\n\t\tvar logoMask = function logoMask() {\n\t\t\tvar canvas = document.createElement('canvas');\n\t\t\tcanvas.width = maskSize;\n\t\t\tcanvas.height = maskSize;\n\t\t\tvar ctx = canvas.getContext('2d');\n\n\t\t\tctx.fillStyle = '#ffffff';\n\t\t\tctx.beginPath();\n\n\t\t\tctx.moveTo(maskSize / 2, maskSize / 2);\n\t\t\tfor (var angle = 0; angle < Math.PI * 2; angle += Math.PI * 2 / 5) {\n\t\t\t\tctx.lineTo(maskSize / 2 - Math.sin(angle) * maskSize / 2.5, maskSize / 2 - Math.cos(angle) * maskSize / 2.5);\n\t\t\t}\n\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\n\t\t\tvar _ctx$getImageData = ctx.getImageData(0, 0, maskSize, maskSize),\n\t\t\t    data = _ctx$getImageData.data;\n\n\t\t\treturn function (x, y) {\n\t\t\t\treturn data[(y * maskSize + x) * 4] > 0;\n\t\t\t};\n\t\t};\n\n\t\t/*\n        const logo = () => {\n            const canvas = document.createElement('canvas');\n            canvas.width = 64;\n            canvas.height = 64;\n            const ctx = canvas.getContext('2d');\n             ctx.lineWidth = 0;\n            ctx.strokeStyle = '#3066a9';\n            ctx.fillStyle = '#3066a9';\n            ctx.beginPath();\n             ctx.moveTo(32, 32);\n            for (\n                let angle = 0;\n                angle < Math.PI * 2;\n                angle += (Math.PI * 2) / 5\n            ) {\n                ctx.lineTo(\n                    32 - Math.sin(angle) * 30,\n                    32 - Math.cos(angle) * 30\n                );\n            }\n             ctx.closePath();\n            ctx.stroke();\n            ctx.fill();\n             const image = new Image();\n            image.src = canvas.toDataURL('image/png');\n            document.body.appendChild(image);\n        };\n         logo();\n        */\n\n\t\tvar atlas = Texture(scene, atlasImg(), 0.5, (_Texture = {}, _Texture[gl.TEXTURE_MAG_FILTER] = gl.LINEAR, _Texture[gl.TEXTURE_MIN_FILTER] = gl.LINEAR, _Texture));\n\t\tatlas.anchor = Point(0.5);\n\n\t\tvar bFrame = Frame(atlas, Point(), Point(32));\n\t\tvar qFrame = Frame(atlas, Point(32, 0), Point(32));\n\t\tvar fFrame = Frame(atlas, Point(64, 0), Point(32));\n\t\tvar frames = [atlas, bFrame, qFrame, fFrame];\n\n\t\tvar mask = logoMask();\n\t\tvar sprs = [];\n\n\t\tvar len = 0;\n\t\tvar cl = 0;\n\n\t\tvar addSprite = function addSprite(a) {\n\t\t\tif (len % 250 === 0) {\n\t\t\t\tcl++;\n\t\t\t}\n\t\t\tlen += a;\n\n\t\t\tvar layer = scene.layer(cl);\n\n\t\t\tfor (var i = 0; i < a; i++) {\n\t\t\t\tvar sprite = Sprite(frames[i % frames.length]);\n\n\t\t\t\tvar x = 0;\n\t\t\t\tvar y = 0;\n\n\t\t\t\twhile (!mask(x, y)) {\n\t\t\t\t\tx = ~~(maskSize * Math.random());\n\t\t\t\t\ty = ~~(maskSize * Math.random());\n\t\t\t\t}\n\n\t\t\t\tsprite.position.set(x, y);\n\t\t\t\tsprite.tint = Math.random() * 0xffffff;\n\t\t\t\tsprite.rotation = Math.random() * Math.PI * 2;\n\t\t\t\tsprite.dr = (0.5 - Math.random()) * 0.1;\n\t\t\t\tsprite.trans = !Math.round(Math.random() + 0.3);\n\t\t\t\tsprs.push(sprite);\n\t\t\t\tlayer.add(sprite);\n\t\t\t}\n\t\t};\n\n\t\tvar s = 0;\n\t\tvar loop = function loop(delta) {\n\t\t\tif (len < 3000 || _this2.add) addSprite(25);\n\n\t\t\ts += 0.005;\n\t\t\tvar scale = (Math.abs(Math.cos(s)) + 0.1) * maskSize / 1300;\n\n\t\t\tsprs.forEach(function (sprite) {\n\t\t\t\tsprite.scale.set(scale);\n\t\t\t\tsprite.rotation += sprite.dr;\n\t\t\t\tif (sprite.trans) {\n\t\t\t\t\tif (sprite.alpha > 0.6) {\n\t\t\t\t\t\tsprite.alpha -= delta / 10000;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsprite.trans = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tscene.camera.angle += delta / 3000;\n\n\t\t\tscene.render();\n\n\t\t\treturn [{\n\t\t\t\ttitle: 'sprites',\n\t\t\t\tvalue: len < 10000 ? len : Number((len / 1000).toFixed(1)) + 'k'\n\t\t\t}];\n\t\t};\n\n\t\tthis.props.start(loop);\n\t};\n\n\t/*\n                <h1>Home</h1>\n                <p>This is the Home component.</p>\n    */\n\n\tHome.prototype.render = function render() {\n\t\treturn (0, _preact.h)(\n\t\t\t'div',\n\t\t\t{\n\t\t\t\t'class': _style2.default.home,\n\t\t\t\tonMouseDown: this.onmousedown,\n\t\t\t\tonTouchStart: this.ontouchstart,\n\t\t\t\tonMouseUp: this.onmouseup,\n\t\t\t\tonTouchEnd: this.ontouchend\n\t\t\t},\n\t\t\t'Click or touch to add sprites',\n\t\t\t_ref\n\t\t);\n\t};\n\n\treturn Home;\n}(_preact.Component);\n\nexports.default = Home;\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// route-home.chunk.3fcab.js","var t=function(t,n,e){this.l=t,this.c=n,this.n=e,this.p=null};t.prototype.r=function(){this.p?this.p.n=this.n:this.l.h=this.n,this.n&&(this.n.p=this.p)};var n=function(){this.h=null};n.prototype.add=function(n){var e=new t(this,n,this.h);return this.h&&(this.h.p=e),this.h=e,e},n.prototype.i=function(t){for(var n=this.h;n;)t(n.c),n=n.n};var e=function(t){this.z=t,this.o=new n,this.t=new n};e.prototype.add=function(t){t.remove(),t.layer=this,t.n=(function(t){return 1!==t.alpha||0===t.frame.atest}(t)?this.t:this.o).add(t)};var i=function(t,n){var r=Object.assign({antialias:!1,alpha:!1,scale:1},n),a=r.alpha?1:770,o=r.scale,s=t.getContext(\"webgl\",r),c=s.getExtension(\"ANGLE_instanced_arrays\"),u=function(t,n){var e=s.createShader(n);return s.shaderSource(e,t),s.compileShader(e),e},h=s.createProgram();s.attachShader(h,u(\"attribute vec2 g;\\nattribute vec2 a;\\nattribute vec2 t;\\nattribute float r;\\nattribute vec2 s;\\nattribute vec4 u;\\nattribute vec4 c;\\nattribute float z;\\nuniform mat4 m;\\nvarying vec2 v;\\nvarying vec4 i;\\nvoid main(){\\nv=u.xy+g*u.zw;\\ni=c.abgr;\\nvec2 p=(g-a)*s;\\nfloat q=cos(r);\\nfloat w=sin(r);\\np=vec2(p.x*q-p.y*w,p.x*w+p.y*q);\\np+=a+t;\\ngl_Position=m*vec4(p,z,1);}\",35633)),s.attachShader(h,u(\"precision mediump float;\\nuniform sampler2D x;\\nuniform float j;\\nvarying vec2 v;\\nvarying vec4 i;\\nvoid main(){\\nvec4 c=texture2D(x,v);\\ngl_FragColor=c*i;\\nif(j>0.0){\\nif(c.a<j)discard;\\ngl_FragColor.a=1.0;};}\",35632)),s.linkProgram(h);var f=function(t,n,e){var i=s.createBuffer();s.bindBuffer(t,i),s.bufferData(t,n,e||35044)},l=function(t,n,e,i,r,a,o){var u=s.getAttribLocation(h,t);s.enableVertexAttribArray(u),s.vertexAttribPointer(u,n,a||5126,!!o,e||0,r||0),i&&c.vertexAttribDivisorANGLE(u,i)};f(34963,new Uint8Array([0,1,2,2,1,3])),f(34962,new Float32Array([0,0,0,1,1,0,1,1])),l(\"g\",2);var v=new ArrayBuffer(3407820),p=new Float32Array(v),y=new Uint32Array(v);f(34962,v,35048),l(\"a\",2,52,1),l(\"s\",2,52,1,8),l(\"r\",1,52,1,16),l(\"t\",2,52,1,20),l(\"u\",4,52,1,28),l(\"c\",4,52,1,44,5121,!0),l(\"z\",1,52,1,48);var x,g,d,b,m,w=function(t){return s.getUniformLocation(h,t)},P=w(\"m\"),z=w(\"x\"),A=w(\"j\"),j=0,E=function(){return d=t.clientHeight*o|0,(t.width!==(g=t.clientWidth*o|0)||t.height!==d)&&(t.width=g,t.height=d,!0)},F=function(){j&&(s.blendFunc(m?1:a,m?0:771),s.depthFunc(m?513:515),s.bindTexture(3553,b.tex),s.uniform1i(z,b.tex),s.uniform1f(A,m?b.atest:0),s.bufferSubData(34962,0,p.subarray(0,13*j)),c.drawElementsInstancedANGLE(4,6,5121,0,j),j=0)},S=function(t){if(t.visible){65535===j&&F();var n=t.frame,e=n.uvs,i=t.anchor||n.anchor;b.tex!==n.tex&&(b.tex&&F(),b=n);var r=13*j;p[r++]=i.x,p[r++]=i.y,p[r++]=t.scale.x*n.size.x,p[r++]=t.scale.y*n.size.y,p[r++]=t.rotation,p[r++]=t.position.x,p[r++]=t.position.y,p[r++]=e[0],p[r++]=e[1],p[r++]=e[2],p[r++]=e[3],y[r++]=((16777215&t.tint)<<8|255*t.alpha&255)>>>0,p[r++]=t.layer.z,j++}},D=new e(0),O=[D],L={gl:s,camera:{at:i.Point(),to:i.Point(),angle:0},background:function(t,n,e,i){void 0===i&&(i=1),s.clearColor(t,n,e,i)},layer:function(t){var n=O.find(function(n){return n.z===t});return n||(n=new e(t),O.push(n),O.sort(function(t,n){return n.z-t.z})),n},add:function(t){D.add(t)},resize:E,render:function(){E();var t=L.camera,n=t.at,e=t.to,i=t.angle,r=n.x-g*e.x,a=n.y-d*e.y,o=Math.cos(i),c=Math.sin(i),u=2/g,f=-2/d;x=[o*u,c*f,0,0,-c*u,o*f,0,0,0,0,-1e-5,0,(n.x*(1-o)+n.y*c)*u-2*r/g-1,(n.y*(1-o)-n.x*c)*f+2*a/d+1,0,1],s.useProgram(h),s.enable(3042),s.enable(2929),s.uniformMatrix4fv(P,!1,x),s.viewport(0,0,g,d),s.clear(16640),b={tex:null},m=!0,O.forEach(function(t){return t.o.i(function(t){return S(t)})}),F(),m=!1;for(var l=O.length-1;l>=0;l--)O[l].t.i(function(t){return S(t)});F()}};return E(),L};i.Point=function(){function t(t,n){if(!(this instanceof i.Point))return new i.Point(t,n);this.set(t,n)}return t.prototype.set=function(t,n){return this.x=t||0,this.y=n||(0!==n?this.x:0),this},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t}();var r=function t(n,e,r,a){if(!(this instanceof t))return new t(n,e,r,a);this.size=i.Point().copy(r),this.anchor=i.Point().copy(a||n.anchor),this.uvs=[e.x/n.size.x,e.y/n.size.y,r.x/n.size.x,r.y/n.size.y],this.t=n},a={atest:{configurable:!0},tex:{configurable:!0}};a.atest.get=function(){return this.t.atest},a.tex.get=function(){return this.t.tex},Object.defineProperties(r.prototype,a);i.Frame=r,i.Texture=function t(n,e,r,a){if(!(this instanceof t))return new t(n,e,r,a);this.size=i.Point(e.width,e.height),this.anchor=i.Point(),this.uvs=[0,0,1,1],this.atest=r||(0===r?0:1);var o=Object.assign({10240:9728,10241:9728,10242:33071,10243:33071},a),s=n.gl;this.tex=s.createTexture(),s.bindTexture(3553,this.tex),Object.keys(o).forEach(function(t){return s.texParameteri(3553,t,o[t])}),s.texImage2D(3553,0,6408,6408,5121,e)},i.Sprite=function(){function t(n,e){if(!(this instanceof t))return new t(n,e);Object.assign(this,{frame:n,visible:!0,position:i.Point(),rotation:0,anchor:null,scale:i.Point(1),tint:16777215,a:1},e),this.remove()}var n={alpha:{configurable:!0}};return n.alpha.get=function(){return this.a},n.alpha.set=function(t){var n=this.a;this.a=t,this.n&&(t<1&&1===n||1===t&&n<1)&&this.layer.add(this)},t.prototype.remove=function(){this.n&&this.n.r(),this.layer=null,this.n=null},Object.defineProperties(t.prototype,n),t}();export default i;\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/js13k-2d/dist/renderer.m.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"home\":\"home__2Q5nZ\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./routes/home/style.css\n// module id = ZAL5\n// module chunks = 0","/* eslint-disable new-cap */\nimport { h, Component } from 'preact';\nimport Renderer from 'js13k-2d';\nimport style from './style';\n\nconst { Point, Texture, Frame, Sprite } = Renderer;\n\n/*\nconst sprites = document.getElementById('info');\n\nconst dbgRenderInfo = gl.getExtension('WEBGL_debug_renderer_info');\nconst info = gl.getParameter(\n    dbgRenderInfo ? dbgRenderInfo.UNMASKED_RENDERER_WEBGL : gl.VENDOR\n);\n*/\n\nconst atlasImg = () => {\n\tconst canvas = document.createElement('canvas');\n\tconst size = 32;\n\tconst half = size / 2;\n\tcanvas.width = 96;\n\tcanvas.height = 32;\n\tconst ctx = canvas.getContext('2d');\n\n\tlet offset = 0;\n\n\tctx.lineWidth = size / 16;\n\tctx.fillStyle = '#cccccc';\n\tctx.strokeStyle = '#000000';\n\tctx.beginPath();\n\n\tctx.moveTo(offset + half, half);\n\tfor (let angle = 0; angle < Math.PI * 2; angle += (Math.PI * 2) / 5) {\n\t\tctx.lineTo(\n\t\t\toffset + half - Math.sin(angle) * half * 0.9,\n\t\t\thalf - Math.cos(angle) * half * 0.9\n\t\t);\n\t}\n\n\tctx.closePath();\n\tctx.fill();\n\tctx.stroke();\n\n\toffset += size;\n\n\tctx.beginPath();\n\n\tctx.moveTo(offset + 3, 3);\n\tctx.lineTo(offset + size - 3, 3);\n\tctx.lineTo(offset + size - 3, size - 3);\n\tctx.lineTo(offset + 3, size - 3);\n\n\tctx.closePath();\n\tctx.fill();\n\tctx.stroke();\n\n\toffset += size;\n\n\tctx.beginPath();\n\n\tctx.moveTo(offset + 3, 3);\n\tctx.lineTo(offset + 29, 3);\n\tctx.lineTo(offset + 29, 8);\n\tctx.lineTo(offset + 8, 8);\n\tctx.lineTo(offset + 8, 14);\n\tctx.lineTo(offset + 20, 14);\n\tctx.lineTo(offset + 20, 18);\n\tctx.lineTo(offset + 8, 18);\n\tctx.lineTo(offset + 8, 29);\n\tctx.lineTo(offset + 3, 29);\n\n\tctx.closePath();\n\tctx.fill();\n\tctx.stroke();\n\n\treturn canvas;\n};\n\nexport default class Home extends Component {\n\tonmousedown = event => {\n\t\tthis.add = true;\n\t\tevent.preventDefault();\n\t};\n\n\tontouchstart = event => {\n\t\tthis.add = true;\n\t\tevent.preventDefault();\n\t};\n\n\tonmouseup = event => {\n\t\tthis.add = false;\n\t\tevent.preventDefault();\n\t};\n\n\tontouchend = event => {\n\t\tthis.add = false;\n\t\tevent.preventDefault();\n\t};\n\n\tcomponentDidMount() {\n\t\tconst view = document.getElementById('view');\n\n\t\tthis.add = false;\n\n\t\t/*\n        let add = false;\n        view.onmousedown = event => {\n            event.preventDefault();\n            add = true;\n        };\n        view.ontouchstart = event => {\n            add = true;\n            event.preventDefault();\n        };\n        view.onmouseup = event => {\n            add = false;\n            event.preventDefault();\n        };\n        view.ontouchend = event => {\n            add = false;\n            event.preventDefault();\n        };\n        */\n\n\t\tconst scale = window.devicePixelRatio === 1 ? 1 : 2;\n\t\tconst scene = Renderer(view, { scale });\n\t\tconst { gl } = scene;\n\n\t\tconst maskSize = Math.min(\n\t\t\tscene.gl.canvas.width,\n\t\t\tscene.gl.canvas.height\n\t\t);\n\n\t\tscene.background(1, 1, 1, 0);\n\t\tscene.camera.at.set(maskSize / 2, maskSize / 2);\n\t\tscene.camera.to.set(0.5);\n\n\t\tconst logoMask = () => {\n\t\t\tconst canvas = document.createElement('canvas');\n\t\t\tcanvas.width = maskSize;\n\t\t\tcanvas.height = maskSize;\n\t\t\tconst ctx = canvas.getContext('2d');\n\n\t\t\tctx.fillStyle = '#ffffff';\n\t\t\tctx.beginPath();\n\n\t\t\tctx.moveTo(maskSize / 2, maskSize / 2);\n\t\t\tfor (\n\t\t\t\tlet angle = 0;\n\t\t\t\tangle < Math.PI * 2;\n\t\t\t\tangle += (Math.PI * 2) / 5\n\t\t\t) {\n\t\t\t\tctx.lineTo(\n\t\t\t\t\tmaskSize / 2 - (Math.sin(angle) * maskSize) / 2.5,\n\t\t\t\t\tmaskSize / 2 - (Math.cos(angle) * maskSize) / 2.5\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\n\t\t\tconst { data } = ctx.getImageData(0, 0, maskSize, maskSize);\n\n\t\t\treturn (x, y) => data[(y * maskSize + x) * 4] > 0;\n\t\t};\n\n\t\t/*\n        const logo = () => {\n            const canvas = document.createElement('canvas');\n            canvas.width = 64;\n            canvas.height = 64;\n            const ctx = canvas.getContext('2d');\n\n            ctx.lineWidth = 0;\n            ctx.strokeStyle = '#3066a9';\n            ctx.fillStyle = '#3066a9';\n            ctx.beginPath();\n\n            ctx.moveTo(32, 32);\n            for (\n                let angle = 0;\n                angle < Math.PI * 2;\n                angle += (Math.PI * 2) / 5\n            ) {\n                ctx.lineTo(\n                    32 - Math.sin(angle) * 30,\n                    32 - Math.cos(angle) * 30\n                );\n            }\n\n            ctx.closePath();\n            ctx.stroke();\n            ctx.fill();\n\n            const image = new Image();\n            image.src = canvas.toDataURL('image/png');\n            document.body.appendChild(image);\n        };\n\n        logo();\n        */\n\n\t\tconst atlas = Texture(scene, atlasImg(), 0.5, {\n\t\t\t[gl.TEXTURE_MAG_FILTER]: gl.LINEAR,\n\t\t\t[gl.TEXTURE_MIN_FILTER]: gl.LINEAR\n\t\t});\n\t\tatlas.anchor = Point(0.5);\n\n\t\tconst bFrame = Frame(atlas, Point(), Point(32));\n\t\tconst qFrame = Frame(atlas, Point(32, 0), Point(32));\n\t\tconst fFrame = Frame(atlas, Point(64, 0), Point(32));\n\t\tconst frames = [atlas, bFrame, qFrame, fFrame];\n\n\t\tconst mask = logoMask();\n\t\tconst sprs = [];\n\n\t\tlet len = 0;\n\t\tlet cl = 0;\n\n\t\tconst addSprite = a => {\n\t\t\tif (len % 250 === 0) {\n\t\t\t\tcl++;\n\t\t\t}\n\t\t\tlen += a;\n\n\t\t\tconst layer = scene.layer(cl);\n\n\t\t\tfor (let i = 0; i < a; i++) {\n\t\t\t\tconst sprite = Sprite(frames[i % frames.length]);\n\n\t\t\t\tlet x = 0;\n\t\t\t\tlet y = 0;\n\n\t\t\t\twhile (!mask(x, y)) {\n\t\t\t\t\tx = ~~(maskSize * Math.random());\n\t\t\t\t\ty = ~~(maskSize * Math.random());\n\t\t\t\t}\n\n\t\t\t\tsprite.position.set(x, y);\n\t\t\t\tsprite.tint = Math.random() * 0xffffff;\n\t\t\t\tsprite.rotation = Math.random() * Math.PI * 2;\n\t\t\t\tsprite.dr = (0.5 - Math.random()) * 0.1;\n\t\t\t\tsprite.trans = !Math.round(Math.random() + 0.3);\n\t\t\t\tsprs.push(sprite);\n\t\t\t\tlayer.add(sprite);\n\t\t\t}\n\t\t};\n\n\t\tlet s = 0;\n\t\tconst loop = delta => {\n\t\t\tif (len < 3000 || this.add) addSprite(25);\n\n\t\t\ts += 0.005;\n\t\t\tconst scale = ((Math.abs(Math.cos(s)) + 0.1) * maskSize) / 1300;\n\n\t\t\tsprs.forEach(sprite => {\n\t\t\t\tsprite.scale.set(scale);\n\t\t\t\tsprite.rotation += sprite.dr;\n\t\t\t\tif (sprite.trans) {\n\t\t\t\t\tif (sprite.alpha > 0.6) {\n\t\t\t\t\t\tsprite.alpha -= delta / 10000;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tsprite.trans = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tscene.camera.angle += delta / 3000;\n\n\t\t\tscene.render();\n\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\ttitle: 'sprites',\n\t\t\t\t\tvalue:\n\t\t\t\t\t\tlen < 10000\n\t\t\t\t\t\t\t? len\n\t\t\t\t\t\t\t: `${Number((len / 1000).toFixed(1))}k`\n\t\t\t\t}\n\t\t\t];\n\t\t};\n\n\t\tthis.props.start(loop);\n\t}\n\n\t/*\n                <h1>Home</h1>\n                <p>This is the Home component.</p>\n    */\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclass={style.home}\n\t\t\t\tonMouseDown={this.onmousedown}\n\t\t\t\tonTouchStart={this.ontouchstart}\n\t\t\t\tonMouseUp={this.onmouseup}\n\t\t\t\tonTouchEnd={this.ontouchend}\n\t\t\t>\n\t\t\t\tClick or touch to add sprites\n\t\t\t\t<canvas id=\"view\" />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./routes/home/index.js"],"sourceRoot":""}