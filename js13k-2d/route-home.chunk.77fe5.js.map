{"version":3,"sources":["webpack:///route-home.chunk.77fe5.js","webpack:///../node_modules/js13k-2d/dist/renderer.m.js","webpack:///./routes/home/style.css","webpack:///./routes/home/index.js"],"names":["webpackJsonp","GBUi","module","exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","t","n","e","this","l","c","p","r","h","add","z","o","remove","layer","alpha","frame","atest","antialias","scale","a","s","getContext","getExtension","u","createShader","shaderSource","compileShader","createProgram","attachShader","linkProgram","f","createBuffer","bindBuffer","bufferData","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","vertexAttribDivisorANGLE","Uint8Array","Float32Array","v","ArrayBuffer","x","Uint32Array","y","d","g","b","m","w","P","getUniformLocation","A","j","E","F","useProgram","uniformMatrix4fv","viewport","clear","activeTexture","enable","blendFunc","depthFunc","bindTexture","tex","uniform1i","uniform1f","bufferSubData","subarray","drawElementsInstancedANGLE","S","visible","uvs","anchor","size","rotation","position","tint","D","O","L","gl","camera","at","Point","to","angle","background","clearColor","find","push","sort","render","clientHeight","width","clientWidth","height","Math","cos","sin","forEach","set","copy","configurable","get","defineProperties","Frame","Texture","10240","10241","10242","10243","createTexture","keys","texParameteri","texImage2D","Sprite","default","ZAL5","home","iOg+","__webpack_require__","_interopRequireDefault","obj","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","TypeError","create","constructor","value","enumerable","writable","setPrototypeOf","__proto__","undefined","_preact","_js13k2d","_js13k2d2","_style","_style2","Renderer","atlasImg","canvas","document","createElement","ctx","offset","lineWidth","fillStyle","strokeStyle","beginPath","moveTo","PI","lineTo","closePath","fill","stroke","_ref","id","_Component","Home","_temp","_this","_ret","_len","args","Array","_key","apply","concat","onmousedown","event","preventDefault","ontouchstart","onmouseup","ontouchend","componentDidMount","_Texture","_this2","view","getElementById","window","devicePixelRatio","scene","maskSize","min","atlas","TEXTURE_MAG_FILTER","LINEAR","TEXTURE_MIN_FILTER","bFrame","qFrame","fFrame","frames","mask","_ctx$getImageData","getImageData","data","sprs","len","cl","addSprite","sprite","random","dr","trans","round","props","start","title","Number","toFixed","class","style","onMouseDown","onTouchStart","onMouseUp","onTouchEnd","Component"],"mappings":"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","file":"route-home.chunk.77fe5.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ \"GBUi\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar t = function t(_t, n, e) {\n  this.l = _t, this.c = n, this.n = e, this.p = null;\n};t.prototype.r = function () {\n  this.p ? this.p.n = this.n : this.l.h = this.n, this.n && (this.n.p = this.p);\n};var n = function n() {\n  this.h = null;\n};n.prototype.add = function (n) {\n  var e = new t(this, n, this.h);return this.h && (this.h.p = e), this.h = e, e;\n}, n.prototype.i = function (t) {\n  for (var n = this.h; n;) {\n    t(n.c), n = n.n;\n  }\n};var e = function e(t) {\n  this.z = t, this.o = new n(), this.t = new n();\n};e.prototype.add = function (t) {\n  t.remove(), t.layer = this, t.n = (function (t) {\n    return 1 !== t.alpha || 0 === t.frame.atest;\n  }(t) ? this.t : this.o).add(t);\n};var i = function i(t, n) {\n  var r = _extends({ antialias: !1, alpha: !1, scale: 1 }, n),\n      a = r.alpha ? 1 : 770,\n      o = r.scale,\n      s = t.getContext(\"webgl\", r),\n      c = s.getExtension(\"ANGLE_instanced_arrays\"),\n      u = function u(t, n) {\n    var e = s.createShader(n);return s.shaderSource(e, t), s.compileShader(e), e;\n  },\n      h = s.createProgram();s.attachShader(h, u(\"attribute vec2 g;\\nattribute vec2 a;\\nattribute vec2 t;\\nattribute float r;\\nattribute vec2 s;\\nattribute vec4 u;\\nattribute vec4 c;\\nattribute float z;\\nuniform mat4 m;\\nvarying vec2 v;\\nvarying vec4 i;\\nvoid main(){\\nv=u.xy+g*u.zw;\\ni=c.abgr;\\nvec2 p=(g-a)*s;\\nfloat q=cos(r);\\nfloat w=sin(r);\\np=vec2(p.x*q-p.y*w,p.x*w+p.y*q);\\np+=a+t;\\ngl_Position=m*vec4(p,z,1);}\", 35633)), s.attachShader(h, u(\"precision mediump float;\\nuniform sampler2D x;\\nuniform float j;\\nvarying vec2 v;\\nvarying vec4 i;\\nvoid main(){\\nvec4 c=texture2D(x,v);\\ngl_FragColor=c*i;\\nif(j>0.0){\\nif(c.a<j)discard;\\ngl_FragColor.a=1.0;};}\", 35632)), s.linkProgram(h);var f = function f(t, n, e) {\n    var i = s.createBuffer();s.bindBuffer(t, i), s.bufferData(t, n, e || 35044);\n  },\n      l = function l(t, n, e, i, r, a, o) {\n    var u = s.getAttribLocation(h, t);s.enableVertexAttribArray(u), s.vertexAttribPointer(u, n, a || 5126, !!o, e || 0, r || 0), i && c.vertexAttribDivisorANGLE(u, i);\n  };f(34963, new Uint8Array([0, 1, 2, 2, 1, 3])), f(34962, new Float32Array([0, 0, 0, 1, 1, 0, 1, 1])), l(\"g\", 2);var v = new ArrayBuffer(3407820),\n      p = new Float32Array(v),\n      x = new Uint32Array(v);f(34962, v, 35048), l(\"a\", 2, 52, 1), l(\"s\", 2, 52, 1, 8), l(\"r\", 1, 52, 1, 16), l(\"t\", 2, 52, 1, 20), l(\"u\", 4, 52, 1, 28), l(\"c\", 4, 52, 1, 44, 5121, !0), l(\"z\", 1, 52, 1, 48);var y,\n      d,\n      g,\n      b,\n      m,\n      w,\n      P = function P(t) {\n    return s.getUniformLocation(h, t);\n  },\n      z = P(\"m\"),\n      A = P(\"x\"),\n      j = P(\"j\"),\n      E = 0,\n      F = function F() {\n    E && (w && (s.useProgram(h), s.uniformMatrix4fv(z, !1, y), s.viewport(0, 0, d, g), s.clear(16640), s.activeTexture(33984), s.enable(3042), s.enable(2929), w = !1), s.blendFunc(m ? 1 : a, m ? 0 : 771), s.depthFunc(m ? 513 : 515), s.bindTexture(3553, b.tex), s.uniform1i(A, b.tex), s.uniform1f(j, m ? b.atest : 0), s.bufferSubData(34962, 0, p.subarray(0, 13 * E)), c.drawElementsInstancedANGLE(4, 6, 5121, 0, E), E = 0);\n  },\n      S = function S(t) {\n    if (t.visible) {\n      65535 === E && F();var n = t.frame,\n          e = n.uvs,\n          i = t.anchor || n.anchor;b.tex !== n.tex && (b.tex && F(), b = n);var r = 13 * E;p[r++] = i.x, p[r++] = i.y, p[r++] = t.scale.x * n.size.x, p[r++] = t.scale.y * n.size.y, p[r++] = t.rotation, p[r++] = t.position.x, p[r++] = t.position.y, p[r++] = e[0], p[r++] = e[1], p[r++] = e[2], p[r++] = e[3], x[r++] = ((16777215 & t.tint) << 8 | 255 * t.alpha & 255) >>> 0, p[r++] = t.layer.z, E++;\n    }\n  },\n      D = new e(0),\n      O = [D],\n      L = { gl: s, camera: { at: i.Point(), to: i.Point(), angle: 0 }, background: function background(t, n, e, i) {\n      void 0 === i && (i = 1), s.clearColor(t, n, e, i);\n    }, layer: function layer(t) {\n      var n = O.find(function (n) {\n        return n.z === t;\n      });return n || (n = new e(t), O.push(n), O.sort(function (t, n) {\n        return n.z - t.z;\n      })), n;\n    }, add: function add(t) {\n      D.add(t);\n    }, render: function render() {\n      g = t.clientHeight * o, t.width = d = t.clientWidth * o, t.height = g;var n = L.camera,\n          e = n.at,\n          i = n.to,\n          r = n.angle,\n          a = e.x - d * i.x,\n          s = e.y - g * i.y,\n          c = Math.cos(r),\n          u = Math.sin(r),\n          h = 2 / d,\n          f = -2 / g;y = [c * h, u * f, 0, 0, -u * h, c * f, 0, 0, 0, 0, -1e-5, 0, (e.x * (1 - c) + e.y * u) * h - 2 * a / d - 1, (e.y * (1 - c) - e.x * u) * f + 2 * s / g + 1, 0, 1], w = !0, b = { tex: null }, m = !0, O.forEach(function (t) {\n        return t.o.i(function (t) {\n          return S(t);\n        });\n      }), F(), m = !1;for (var l = O.length - 1; l >= 0; l--) {\n        O[l].t.i(function (t) {\n          return S(t);\n        });\n      }F();\n    } };return L.render(), L;\n};i.Point = function () {\n  function t(t, n) {\n    if (!(this instanceof i.Point)) return new i.Point(t, n);this.set(t, n);\n  }return t.prototype.set = function (t, n) {\n    return this.x = t || 0, this.y = n || (0 !== n ? this.x : 0), this;\n  }, t.prototype.copy = function (t) {\n    return this.x = t.x, this.y = t.y, this;\n  }, t;\n}();var r = function t(n, e, r, a) {\n  if (!(this instanceof t)) return new t(n, e, r, a);this.size = i.Point().copy(r), this.anchor = i.Point().copy(a || n.anchor), this.uvs = [e.x / n.size.x, e.y / n.size.y, r.x / n.size.x, r.y / n.size.y], this.t = n;\n},\n    a = { atest: { configurable: !0 }, tex: { configurable: !0 } };a.atest.get = function () {\n  return this.t.atest;\n}, a.tex.get = function () {\n  return this.t.tex;\n}, Object.defineProperties(r.prototype, a);i.Frame = r, i.Texture = function t(n, e, r, a) {\n  if (!(this instanceof t)) return new t(n, e, r, a);this.size = i.Point(e.width, e.height), this.anchor = i.Point(), this.uvs = [0, 0, 1, 1], this.atest = r || (0 === r ? 0 : 1);var o = _extends({ 10240: 9728, 10241: 9728, 10242: 33071, 10243: 33071 }, a),\n      s = n.gl;this.tex = s.createTexture(), s.bindTexture(3553, this.tex), Object.keys(o).forEach(function (t) {\n    return s.texParameteri(3553, t, o[t]);\n  }), s.texImage2D(3553, 0, 6408, 6408, 5121, e);\n}, i.Sprite = function () {\n  function t(n, e) {\n    if (!(this instanceof t)) return new t(n, e);this.frame = n, this.a = 1, _extends(this, { visible: !0, position: i.Point(), rotation: 0, anchor: null, scale: i.Point(1), tint: 16777215 }, e), this.remove();\n  }var n = { alpha: { configurable: !0 } };return n.alpha.get = function () {\n    return this.a;\n  }, n.alpha.set = function (t) {\n    var n = this.a;this.a = t, this.n && (t < 1 && 1 === n || 1 === t && n < 1) && this.layer.add(this);\n  }, t.prototype.remove = function () {\n    this.n && this.n.r(), this.layer = null, this.n = null;\n  }, Object.defineProperties(t.prototype, n), t;\n}();exports.default = i;\n\n/***/ }),\n\n/***/ \"ZAL5\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"home\":\"home__2Q5nZ\"};\n\n/***/ }),\n\n/***/ \"iOg+\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports.default = undefined;\n\nvar _preact = __webpack_require__(\"KM04\");\n\nvar _js13k2d = __webpack_require__(\"GBUi\");\n\nvar _js13k2d2 = _interopRequireDefault(_js13k2d);\n\nvar _style = __webpack_require__(\"ZAL5\");\n\nvar _style2 = _interopRequireDefault(_style);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* eslint-disable new-cap */\n\n\nvar Point = _js13k2d2.default.Point,\n    Texture = _js13k2d2.default.Texture,\n    Frame = _js13k2d2.default.Frame,\n    Sprite = _js13k2d2.default.Sprite;\n\n/*\nconst sprites = document.getElementById('info');\n\nconst dbgRenderInfo = gl.getExtension('WEBGL_debug_renderer_info');\nconst info = gl.getParameter(\n    dbgRenderInfo ? dbgRenderInfo.UNMASKED_RENDERER_WEBGL : gl.VENDOR\n);\n*/\n\nvar atlasImg = function atlasImg() {\n\tvar canvas = document.createElement('canvas');\n\tvar size = 32;\n\tvar half = size / 2;\n\tcanvas.width = 96;\n\tcanvas.height = 32;\n\tvar ctx = canvas.getContext('2d');\n\n\tvar offset = 0;\n\n\tctx.lineWidth = size / 16;\n\tctx.fillStyle = '#cccccc';\n\tctx.strokeStyle = '#000000';\n\tctx.beginPath();\n\n\tctx.moveTo(offset + half, half);\n\tfor (var angle = 0; angle < Math.PI * 2; angle += Math.PI * 2 / 5) {\n\t\tctx.lineTo(offset + half - Math.sin(angle) * half * 0.9, half - Math.cos(angle) * half * 0.9);\n\t}\n\n\tctx.closePath();\n\tctx.fill();\n\tctx.stroke();\n\n\toffset += size;\n\n\tctx.beginPath();\n\n\tctx.moveTo(offset + 3, 3);\n\tctx.lineTo(offset + size - 3, 3);\n\tctx.lineTo(offset + size - 3, size - 3);\n\tctx.lineTo(offset + 3, size - 3);\n\n\tctx.closePath();\n\tctx.fill();\n\tctx.stroke();\n\n\toffset += size;\n\n\tctx.beginPath();\n\n\tctx.moveTo(offset + 3, 3);\n\tctx.lineTo(offset + 29, 3);\n\tctx.lineTo(offset + 29, 8);\n\tctx.lineTo(offset + 8, 8);\n\tctx.lineTo(offset + 8, 14);\n\tctx.lineTo(offset + 20, 14);\n\tctx.lineTo(offset + 20, 18);\n\tctx.lineTo(offset + 8, 18);\n\tctx.lineTo(offset + 8, 29);\n\tctx.lineTo(offset + 3, 29);\n\n\tctx.closePath();\n\tctx.fill();\n\tctx.stroke();\n\n\treturn canvas;\n};\n\nvar _ref = (0, _preact.h)('canvas', { id: 'view' });\n\nvar Home = function (_Component) {\n\t_inherits(Home, _Component);\n\n\tfunction Home() {\n\t\tvar _temp, _this, _ret;\n\n\t\t_classCallCheck(this, Home);\n\n\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\targs[_key] = arguments[_key];\n\t\t}\n\n\t\treturn _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.onmousedown = function (event) {\n\t\t\t_this.add = true;\n\t\t\tevent.preventDefault();\n\t\t}, _this.ontouchstart = function (event) {\n\t\t\t_this.add = true;\n\t\t\tevent.preventDefault();\n\t\t}, _this.onmouseup = function (event) {\n\t\t\t_this.add = false;\n\t\t\tevent.preventDefault();\n\t\t}, _this.ontouchend = function (event) {\n\t\t\t_this.add = false;\n\t\t\tevent.preventDefault();\n\t\t}, _temp), _possibleConstructorReturn(_this, _ret);\n\t}\n\n\tHome.prototype.componentDidMount = function componentDidMount() {\n\t\tvar _Texture,\n\t\t    _this2 = this;\n\n\t\tvar view = document.getElementById('view');\n\n\t\tthis.add = false;\n\n\t\t/*\n        let add = false;\n        view.onmousedown = event => {\n            event.preventDefault();\n            add = true;\n        };\n        view.ontouchstart = event => {\n            add = true;\n            event.preventDefault();\n        };\n        view.onmouseup = event => {\n            add = false;\n            event.preventDefault();\n        };\n        view.ontouchend = event => {\n            add = false;\n            event.preventDefault();\n        };\n        */\n\n\t\tvar scale = window.devicePixelRatio === 1 ? 1 : 2;\n\t\tvar scene = (0, _js13k2d2.default)(view, { scale: scale });\n\t\t// const scene = Renderer(view, { scale: window.devicePixelRatio });\n\t\t// const scene = Renderer(view);\n\t\tvar gl = scene.gl;\n\n\n\t\tvar maskSize = Math.min(scene.gl.canvas.width, scene.gl.canvas.height);\n\n\t\tscene.background(1, 1, 1, 0);\n\t\tscene.camera.at.set(maskSize / 2, maskSize / 2);\n\t\tscene.camera.to.set(0.5);\n\n\t\tvar logoMask = function logoMask() {\n\t\t\tvar canvas = document.createElement('canvas');\n\t\t\tcanvas.width = maskSize;\n\t\t\tcanvas.height = maskSize;\n\t\t\tvar ctx = canvas.getContext('2d');\n\n\t\t\tctx.fillStyle = '#ffffff';\n\t\t\tctx.beginPath();\n\n\t\t\tctx.moveTo(maskSize / 2, maskSize / 2);\n\t\t\tfor (var angle = 0; angle < Math.PI * 2; angle += Math.PI * 2 / 5) {\n\t\t\t\tctx.lineTo(maskSize / 2 - Math.sin(angle) * maskSize / 2.5, maskSize / 2 - Math.cos(angle) * maskSize / 2.5);\n\t\t\t}\n\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\n\t\t\tvar _ctx$getImageData = ctx.getImageData(0, 0, maskSize, maskSize),\n\t\t\t    data = _ctx$getImageData.data;\n\n\t\t\treturn function (x, y) {\n\t\t\t\treturn data[(y * maskSize + x) * 4] > 0;\n\t\t\t};\n\t\t};\n\n\t\t/*\n        const logo = () => {\n            const canvas = document.createElement('canvas');\n            canvas.width = 64;\n            canvas.height = 64;\n            const ctx = canvas.getContext('2d');\n             ctx.lineWidth = 0;\n            ctx.strokeStyle = '#3066a9';\n            ctx.fillStyle = '#3066a9';\n            ctx.beginPath();\n             ctx.moveTo(32, 32);\n            for (\n                let angle = 0;\n                angle < Math.PI * 2;\n                angle += (Math.PI * 2) / 5\n            ) {\n                ctx.lineTo(\n                    32 - Math.sin(angle) * 30,\n                    32 - Math.cos(angle) * 30\n                );\n            }\n             ctx.closePath();\n            ctx.stroke();\n            ctx.fill();\n             const image = new Image();\n            image.src = canvas.toDataURL('image/png');\n            document.body.appendChild(image);\n        };\n         logo();\n        */\n\n\t\tvar atlas = Texture(scene, atlasImg(), 0.5, (_Texture = {}, _Texture[gl.TEXTURE_MAG_FILTER] = gl.LINEAR, _Texture[gl.TEXTURE_MIN_FILTER] = gl.LINEAR, _Texture));\n\t\tatlas.anchor = Point(0.5);\n\n\t\tvar bFrame = Frame(atlas, Point(), Point(32));\n\t\tvar qFrame = Frame(atlas, Point(32, 0), Point(32));\n\t\tvar fFrame = Frame(atlas, Point(64, 0), Point(32));\n\t\tvar frames = [atlas, bFrame, qFrame, fFrame];\n\t\t// const frames = [bFrame];\n\n\t\tvar mask = logoMask();\n\t\tvar sprs = [];\n\n\t\tvar len = 0;\n\t\tvar cl = 0;\n\n\t\tvar addSprite = function addSprite(a) {\n\t\t\tif (len % 250 === 0) {\n\t\t\t\tcl++;\n\t\t\t}\n\t\t\tlen += a;\n\n\t\t\tvar layer = scene.layer(cl);\n\n\t\t\tfor (var i = 0; i < a; i++) {\n\t\t\t\tvar sprite = Sprite(frames[i % 4]);\n\t\t\t\t//const sprite = Sprite(frames[i % 1]);\n\n\t\t\t\tvar x = 0;\n\t\t\t\tvar y = 0;\n\n\t\t\t\twhile (!mask(x, y)) {\n\t\t\t\t\tx = ~~(maskSize * Math.random());\n\t\t\t\t\ty = ~~(maskSize * Math.random());\n\t\t\t\t}\n\n\t\t\t\tsprite.position.set(x, y);\n\t\t\t\tsprite.scale.set(maskSize / 1200);\n\t\t\t\tsprite.tint = Math.random() * 0xffffff;\n\t\t\t\tsprite.rotation = Math.random() * Math.PI * 2;\n\t\t\t\tsprite.dr = (0.5 - Math.random()) * 0.1;\n\t\t\t\tsprite.trans = !Math.round(Math.random() + 0.3);\n\t\t\t\t// sprite.trans = false;\n\t\t\t\tsprs.push(sprite);\n\t\t\t\tlayer.add(sprite);\n\t\t\t}\n\t\t};\n\n\t\tvar loop = function loop() {\n\t\t\tif (len < 3000 || _this2.add) addSprite(25);\n\n\t\t\tsprs.forEach(function (sprite) {\n\t\t\t\tsprite.rotation += sprite.dr;\n\t\t\t\tif (sprite.trans) {\n\t\t\t\t\tif (sprite.alpha > 0.6) {\n\t\t\t\t\t\tsprite.alpha -= 0.001;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsprite.trans = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tscene.camera.angle += 0.005;\n\n\t\t\tscene.render();\n\n\t\t\treturn [{\n\t\t\t\ttitle: 'sprites',\n\t\t\t\tvalue: len < 10000 ? len : Number((len / 1000).toFixed(1)) + 'k'\n\t\t\t}];\n\t\t};\n\n\t\tthis.props.start(loop);\n\t};\n\n\t/*\n                <h1>Home</h1>\n                <p>This is the Home component.</p>\n    */\n\n\tHome.prototype.render = function render() {\n\t\treturn (0, _preact.h)(\n\t\t\t'div',\n\t\t\t{\n\t\t\t\t'class': _style2.default.home,\n\t\t\t\tonMouseDown: this.onmousedown,\n\t\t\t\tonTouchStart: this.ontouchstart,\n\t\t\t\tonMouseUp: this.onmouseup,\n\t\t\t\tonTouchEnd: this.ontouchend\n\t\t\t},\n\t\t\t'Click or touch to add sprites',\n\t\t\t_ref\n\t\t);\n\t};\n\n\treturn Home;\n}(_preact.Component);\n\nexports.default = Home;\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// route-home.chunk.77fe5.js","var t=function(t,n,e){this.l=t,this.c=n,this.n=e,this.p=null};t.prototype.r=function(){this.p?this.p.n=this.n:this.l.h=this.n,this.n&&(this.n.p=this.p)};var n=function(){this.h=null};n.prototype.add=function(n){var e=new t(this,n,this.h);return this.h&&(this.h.p=e),this.h=e,e},n.prototype.i=function(t){for(var n=this.h;n;)t(n.c),n=n.n};var e=function(t){this.z=t,this.o=new n,this.t=new n};e.prototype.add=function(t){t.remove(),t.layer=this,t.n=(function(t){return 1!==t.alpha||0===t.frame.atest}(t)?this.t:this.o).add(t)};var i=function(t,n){var r=Object.assign({antialias:!1,alpha:!1,scale:1},n),a=r.alpha?1:770,o=r.scale,s=t.getContext(\"webgl\",r),c=s.getExtension(\"ANGLE_instanced_arrays\"),u=function(t,n){var e=s.createShader(n);return s.shaderSource(e,t),s.compileShader(e),e},h=s.createProgram();s.attachShader(h,u(\"attribute vec2 g;\\nattribute vec2 a;\\nattribute vec2 t;\\nattribute float r;\\nattribute vec2 s;\\nattribute vec4 u;\\nattribute vec4 c;\\nattribute float z;\\nuniform mat4 m;\\nvarying vec2 v;\\nvarying vec4 i;\\nvoid main(){\\nv=u.xy+g*u.zw;\\ni=c.abgr;\\nvec2 p=(g-a)*s;\\nfloat q=cos(r);\\nfloat w=sin(r);\\np=vec2(p.x*q-p.y*w,p.x*w+p.y*q);\\np+=a+t;\\ngl_Position=m*vec4(p,z,1);}\",35633)),s.attachShader(h,u(\"precision mediump float;\\nuniform sampler2D x;\\nuniform float j;\\nvarying vec2 v;\\nvarying vec4 i;\\nvoid main(){\\nvec4 c=texture2D(x,v);\\ngl_FragColor=c*i;\\nif(j>0.0){\\nif(c.a<j)discard;\\ngl_FragColor.a=1.0;};}\",35632)),s.linkProgram(h);var f=function(t,n,e){var i=s.createBuffer();s.bindBuffer(t,i),s.bufferData(t,n,e||35044)},l=function(t,n,e,i,r,a,o){var u=s.getAttribLocation(h,t);s.enableVertexAttribArray(u),s.vertexAttribPointer(u,n,a||5126,!!o,e||0,r||0),i&&c.vertexAttribDivisorANGLE(u,i)};f(34963,new Uint8Array([0,1,2,2,1,3])),f(34962,new Float32Array([0,0,0,1,1,0,1,1])),l(\"g\",2);var v=new ArrayBuffer(3407820),p=new Float32Array(v),x=new Uint32Array(v);f(34962,v,35048),l(\"a\",2,52,1),l(\"s\",2,52,1,8),l(\"r\",1,52,1,16),l(\"t\",2,52,1,20),l(\"u\",4,52,1,28),l(\"c\",4,52,1,44,5121,!0),l(\"z\",1,52,1,48);var y,d,g,b,m,w,P=function(t){return s.getUniformLocation(h,t)},z=P(\"m\"),A=P(\"x\"),j=P(\"j\"),E=0,F=function(){E&&(w&&(s.useProgram(h),s.uniformMatrix4fv(z,!1,y),s.viewport(0,0,d,g),s.clear(16640),s.activeTexture(33984),s.enable(3042),s.enable(2929),w=!1),s.blendFunc(m?1:a,m?0:771),s.depthFunc(m?513:515),s.bindTexture(3553,b.tex),s.uniform1i(A,b.tex),s.uniform1f(j,m?b.atest:0),s.bufferSubData(34962,0,p.subarray(0,13*E)),c.drawElementsInstancedANGLE(4,6,5121,0,E),E=0)},S=function(t){if(t.visible){65535===E&&F();var n=t.frame,e=n.uvs,i=t.anchor||n.anchor;b.tex!==n.tex&&(b.tex&&F(),b=n);var r=13*E;p[r++]=i.x,p[r++]=i.y,p[r++]=t.scale.x*n.size.x,p[r++]=t.scale.y*n.size.y,p[r++]=t.rotation,p[r++]=t.position.x,p[r++]=t.position.y,p[r++]=e[0],p[r++]=e[1],p[r++]=e[2],p[r++]=e[3],x[r++]=((16777215&t.tint)<<8|255*t.alpha&255)>>>0,p[r++]=t.layer.z,E++}},D=new e(0),O=[D],L={gl:s,camera:{at:i.Point(),to:i.Point(),angle:0},background:function(t,n,e,i){void 0===i&&(i=1),s.clearColor(t,n,e,i)},layer:function(t){var n=O.find(function(n){return n.z===t});return n||(n=new e(t),O.push(n),O.sort(function(t,n){return n.z-t.z})),n},add:function(t){D.add(t)},render:function(){g=t.clientHeight*o,t.width=d=t.clientWidth*o,t.height=g;var n=L.camera,e=n.at,i=n.to,r=n.angle,a=e.x-d*i.x,s=e.y-g*i.y,c=Math.cos(r),u=Math.sin(r),h=2/d,f=-2/g;y=[c*h,u*f,0,0,-u*h,c*f,0,0,0,0,-1e-5,0,(e.x*(1-c)+e.y*u)*h-2*a/d-1,(e.y*(1-c)-e.x*u)*f+2*s/g+1,0,1],w=!0,b={tex:null},m=!0,O.forEach(function(t){return t.o.i(function(t){return S(t)})}),F(),m=!1;for(var l=O.length-1;l>=0;l--)O[l].t.i(function(t){return S(t)});F()}};return L.render(),L};i.Point=function(){function t(t,n){if(!(this instanceof i.Point))return new i.Point(t,n);this.set(t,n)}return t.prototype.set=function(t,n){return this.x=t||0,this.y=n||(0!==n?this.x:0),this},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t}();var r=function t(n,e,r,a){if(!(this instanceof t))return new t(n,e,r,a);this.size=i.Point().copy(r),this.anchor=i.Point().copy(a||n.anchor),this.uvs=[e.x/n.size.x,e.y/n.size.y,r.x/n.size.x,r.y/n.size.y],this.t=n},a={atest:{configurable:!0},tex:{configurable:!0}};a.atest.get=function(){return this.t.atest},a.tex.get=function(){return this.t.tex},Object.defineProperties(r.prototype,a);i.Frame=r,i.Texture=function t(n,e,r,a){if(!(this instanceof t))return new t(n,e,r,a);this.size=i.Point(e.width,e.height),this.anchor=i.Point(),this.uvs=[0,0,1,1],this.atest=r||(0===r?0:1);var o=Object.assign({10240:9728,10241:9728,10242:33071,10243:33071},a),s=n.gl;this.tex=s.createTexture(),s.bindTexture(3553,this.tex),Object.keys(o).forEach(function(t){return s.texParameteri(3553,t,o[t])}),s.texImage2D(3553,0,6408,6408,5121,e)},i.Sprite=function(){function t(n,e){if(!(this instanceof t))return new t(n,e);this.frame=n,this.a=1,Object.assign(this,{visible:!0,position:i.Point(),rotation:0,anchor:null,scale:i.Point(1),tint:16777215},e),this.remove()}var n={alpha:{configurable:!0}};return n.alpha.get=function(){return this.a},n.alpha.set=function(t){var n=this.a;this.a=t,this.n&&(t<1&&1===n||1===t&&n<1)&&this.layer.add(this)},t.prototype.remove=function(){this.n&&this.n.r(),this.layer=null,this.n=null},Object.defineProperties(t.prototype,n),t}();export default i;\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/js13k-2d/dist/renderer.m.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"home\":\"home__2Q5nZ\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./routes/home/style.css\n// module id = ZAL5\n// module chunks = 0","/* eslint-disable new-cap */\nimport { h, Component } from 'preact';\nimport Renderer from 'js13k-2d';\nimport style from './style';\n\nconst { Point, Texture, Frame, Sprite } = Renderer;\n\n/*\nconst sprites = document.getElementById('info');\n\nconst dbgRenderInfo = gl.getExtension('WEBGL_debug_renderer_info');\nconst info = gl.getParameter(\n    dbgRenderInfo ? dbgRenderInfo.UNMASKED_RENDERER_WEBGL : gl.VENDOR\n);\n*/\n\nconst atlasImg = () => {\n\tconst canvas = document.createElement('canvas');\n\tconst size = 32;\n\tconst half = size / 2;\n\tcanvas.width = 96;\n\tcanvas.height = 32;\n\tconst ctx = canvas.getContext('2d');\n\n\tlet offset = 0;\n\n\tctx.lineWidth = size / 16;\n\tctx.fillStyle = '#cccccc';\n\tctx.strokeStyle = '#000000';\n\tctx.beginPath();\n\n\tctx.moveTo(offset + half, half);\n\tfor (let angle = 0; angle < Math.PI * 2; angle += (Math.PI * 2) / 5) {\n\t\tctx.lineTo(\n\t\t\toffset + half - Math.sin(angle) * half * 0.9,\n\t\t\thalf - Math.cos(angle) * half * 0.9\n\t\t);\n\t}\n\n\tctx.closePath();\n\tctx.fill();\n\tctx.stroke();\n\n\toffset += size;\n\n\tctx.beginPath();\n\n\tctx.moveTo(offset + 3, 3);\n\tctx.lineTo(offset + size - 3, 3);\n\tctx.lineTo(offset + size - 3, size - 3);\n\tctx.lineTo(offset + 3, size - 3);\n\n\tctx.closePath();\n\tctx.fill();\n\tctx.stroke();\n\n\toffset += size;\n\n\tctx.beginPath();\n\n\tctx.moveTo(offset + 3, 3);\n\tctx.lineTo(offset + 29, 3);\n\tctx.lineTo(offset + 29, 8);\n\tctx.lineTo(offset + 8, 8);\n\tctx.lineTo(offset + 8, 14);\n\tctx.lineTo(offset + 20, 14);\n\tctx.lineTo(offset + 20, 18);\n\tctx.lineTo(offset + 8, 18);\n\tctx.lineTo(offset + 8, 29);\n\tctx.lineTo(offset + 3, 29);\n\n\tctx.closePath();\n\tctx.fill();\n\tctx.stroke();\n\n\treturn canvas;\n};\n\nexport default class Home extends Component {\n\tonmousedown = event => {\n\t\tthis.add = true;\n\t\tevent.preventDefault();\n\t};\n\n\tontouchstart = event => {\n\t\tthis.add = true;\n\t\tevent.preventDefault();\n\t};\n\n\tonmouseup = event => {\n\t\tthis.add = false;\n\t\tevent.preventDefault();\n\t};\n\n\tontouchend = event => {\n\t\tthis.add = false;\n\t\tevent.preventDefault();\n\t};\n\n\tcomponentDidMount() {\n\t\tconst view = document.getElementById('view');\n\n\t\tthis.add = false;\n\n\t\t/*\n        let add = false;\n        view.onmousedown = event => {\n            event.preventDefault();\n            add = true;\n        };\n        view.ontouchstart = event => {\n            add = true;\n            event.preventDefault();\n        };\n        view.onmouseup = event => {\n            add = false;\n            event.preventDefault();\n        };\n        view.ontouchend = event => {\n            add = false;\n            event.preventDefault();\n        };\n        */\n\n\t\tconst scale = window.devicePixelRatio === 1 ? 1 : 2;\n\t\tconst scene = Renderer(view, { scale });\n\t\t// const scene = Renderer(view, { scale: window.devicePixelRatio });\n\t\t// const scene = Renderer(view);\n\t\tconst { gl } = scene;\n\n\t\tconst maskSize = Math.min(\n\t\t\tscene.gl.canvas.width,\n\t\t\tscene.gl.canvas.height\n\t\t);\n\n\t\tscene.background(1, 1, 1, 0);\n\t\tscene.camera.at.set(maskSize / 2, maskSize / 2);\n\t\tscene.camera.to.set(0.5);\n\n\t\tconst logoMask = () => {\n\t\t\tconst canvas = document.createElement('canvas');\n\t\t\tcanvas.width = maskSize;\n\t\t\tcanvas.height = maskSize;\n\t\t\tconst ctx = canvas.getContext('2d');\n\n\t\t\tctx.fillStyle = '#ffffff';\n\t\t\tctx.beginPath();\n\n\t\t\tctx.moveTo(maskSize / 2, maskSize / 2);\n\t\t\tfor (\n\t\t\t\tlet angle = 0;\n\t\t\t\tangle < Math.PI * 2;\n\t\t\t\tangle += (Math.PI * 2) / 5\n\t\t\t) {\n\t\t\t\tctx.lineTo(\n\t\t\t\t\tmaskSize / 2 - (Math.sin(angle) * maskSize) / 2.5,\n\t\t\t\t\tmaskSize / 2 - (Math.cos(angle) * maskSize) / 2.5\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\n\t\t\tconst { data } = ctx.getImageData(0, 0, maskSize, maskSize);\n\n\t\t\treturn (x, y) => data[(y * maskSize + x) * 4] > 0;\n\t\t};\n\n\t\t/*\n        const logo = () => {\n            const canvas = document.createElement('canvas');\n            canvas.width = 64;\n            canvas.height = 64;\n            const ctx = canvas.getContext('2d');\n\n            ctx.lineWidth = 0;\n            ctx.strokeStyle = '#3066a9';\n            ctx.fillStyle = '#3066a9';\n            ctx.beginPath();\n\n            ctx.moveTo(32, 32);\n            for (\n                let angle = 0;\n                angle < Math.PI * 2;\n                angle += (Math.PI * 2) / 5\n            ) {\n                ctx.lineTo(\n                    32 - Math.sin(angle) * 30,\n                    32 - Math.cos(angle) * 30\n                );\n            }\n\n            ctx.closePath();\n            ctx.stroke();\n            ctx.fill();\n\n            const image = new Image();\n            image.src = canvas.toDataURL('image/png');\n            document.body.appendChild(image);\n        };\n\n        logo();\n        */\n\n\t\tconst atlas = Texture(scene, atlasImg(), 0.5, {\n\t\t\t[gl.TEXTURE_MAG_FILTER]: gl.LINEAR,\n\t\t\t[gl.TEXTURE_MIN_FILTER]: gl.LINEAR\n\t\t});\n\t\tatlas.anchor = Point(0.5);\n\n\t\tconst bFrame = Frame(atlas, Point(), Point(32));\n\t\tconst qFrame = Frame(atlas, Point(32, 0), Point(32));\n\t\tconst fFrame = Frame(atlas, Point(64, 0), Point(32));\n\t\tconst frames = [atlas, bFrame, qFrame, fFrame];\n\t\t// const frames = [bFrame];\n\n\t\tconst mask = logoMask();\n\t\tconst sprs = [];\n\n\t\tlet len = 0;\n\t\tlet cl = 0;\n\n\t\tconst addSprite = a => {\n\t\t\tif (len % 250 === 0) {\n\t\t\t\tcl++;\n\t\t\t}\n\t\t\tlen += a;\n\n\t\t\tconst layer = scene.layer(cl);\n\n\t\t\tfor (let i = 0; i < a; i++) {\n\t\t\t\tconst sprite = Sprite(frames[i % 4]);\n\t\t\t\t//const sprite = Sprite(frames[i % 1]);\n\n\t\t\t\tlet x = 0;\n\t\t\t\tlet y = 0;\n\n\t\t\t\twhile (!mask(x, y)) {\n\t\t\t\t\tx = ~~(maskSize * Math.random());\n\t\t\t\t\ty = ~~(maskSize * Math.random());\n\t\t\t\t}\n\n\t\t\t\tsprite.position.set(x, y);\n\t\t\t\tsprite.scale.set(maskSize / 1200);\n\t\t\t\tsprite.tint = Math.random() * 0xffffff;\n\t\t\t\tsprite.rotation = Math.random() * Math.PI * 2;\n\t\t\t\tsprite.dr = (0.5 - Math.random()) * 0.1;\n\t\t\t\tsprite.trans = !Math.round(Math.random() + 0.3);\n\t\t\t\t// sprite.trans = false;\n\t\t\t\tsprs.push(sprite);\n\t\t\t\tlayer.add(sprite);\n\t\t\t}\n\t\t};\n\n\t\tconst loop = () => {\n\t\t\tif (len < 3000 || this.add) addSprite(25);\n\n\t\t\tsprs.forEach(sprite => {\n\t\t\t\tsprite.rotation += sprite.dr;\n\t\t\t\tif (sprite.trans) {\n\t\t\t\t\tif (sprite.alpha > 0.6) {\n\t\t\t\t\t\tsprite.alpha -= 0.001;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tsprite.trans = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tscene.camera.angle += 0.005;\n\n\t\t\tscene.render();\n\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\ttitle: 'sprites',\n\t\t\t\t\tvalue:\n\t\t\t\t\t\tlen < 10000\n\t\t\t\t\t\t\t? len\n\t\t\t\t\t\t\t: `${Number((len / 1000).toFixed(1))}k`\n\t\t\t\t}\n\t\t\t];\n\t\t};\n\n\t\tthis.props.start(loop);\n\t}\n\n\t/*\n                <h1>Home</h1>\n                <p>This is the Home component.</p>\n    */\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclass={style.home}\n\t\t\t\tonMouseDown={this.onmousedown}\n\t\t\t\tonTouchStart={this.ontouchstart}\n\t\t\t\tonMouseUp={this.onmouseup}\n\t\t\t\tonTouchEnd={this.ontouchend}\n\t\t\t>\n\t\t\t\tClick or touch to add sprites\n\t\t\t\t<canvas id=\"view\" />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./routes/home/index.js"],"sourceRoot":""}